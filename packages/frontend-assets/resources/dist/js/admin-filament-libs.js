/*! For license information please see admin-filament-libs.js.LICENSE.txt */
(()=>{var e,t,i={4237:function(e){"undefined"!=typeof self&&self,e.exports=function(e){var t={};function i(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=e,i.c=t,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(r,o,function(t){return e[t]}.bind(null,o));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=1)}([function(e,t,i){"use strict";var r=i(3);function o(e){return!0===r(e)&&"[object Object]"===Object.prototype.toString.call(e)}e.exports=function(e){var t,i;return!1!==o(e)&&"function"==typeof(t=e.constructor)&&!1!==o(i=t.prototype)&&!1!==i.hasOwnProperty("isPrototypeOf")}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=t.PALETTE_MATERIAL_CHROME=t.PALETTE_MATERIAL_500=t.COLOR_NAMES=t.getLuminance=t.intToRgb=t.rgbToInt=t.rgbToHsv=t.rgbToHsl=t.hslToRgb=t.rgbToHex=t.parseColor=t.parseColorToHsla=t.parseColorToHsl=t.parseColorToRgba=t.parseColorToRgb=t.from=t.createPicker=void 0;var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],r=!0,o=!1,n=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(i.push(s.value),!t||i.length!==t);r=!0);}catch(e){o=!0,n=e}finally{try{!r&&a.return&&a.return()}finally{if(o)throw n}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=i(2),s=l(i(0)),a=l(i(4));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}var d="undefined"!=typeof window&&window.navigator.userAgent.indexOf("Edge")>-1,p="undefined"!=typeof window&&window.navigator.userAgent.indexOf("rv:")>-1,h={id:null,attachTo:"body",showHSL:!0,showRGB:!0,showHEX:!0,showAlpha:!1,color:"#ff0000",palette:null,paletteEditable:!1,useAlphaInPalette:"auto",slBarSize:[232,150],hueBarSize:[150,11],alphaBarSize:[150,11]},g="COLOR",f="RGBA_USER",m="HSLA_USER";function v(e,t,i){return e?e instanceof HTMLElement?e:e instanceof NodeList?e[0]:"string"==typeof e?document.querySelector(e):e.jquery?e.get(0):i?t:null:t}function b(e){var t=e.getContext("2d"),i=+e.width,r=+e.height,s=t.createLinearGradient(1,1,1,r-1);return s.addColorStop(0,"white"),s.addColorStop(1,"black"),{setHue:function(e){var o=t.createLinearGradient(1,0,i-1,0);o.addColorStop(0,"hsla("+e+", 100%, 50%, 0)"),o.addColorStop(1,"hsla("+e+", 100%, 50%, 1)"),t.fillStyle=s,t.fillRect(0,0,i,r),t.fillStyle=o,t.globalCompositeOperation="multiply",t.fillRect(0,0,i,r),t.globalCompositeOperation="source-over"},grabColor:function(e,i){return t.getImageData(e,i,1,1).data},findColor:function(e,t,s){var a=(0,n.rgbToHsv)(e,t,s),l=o(a,3),c=l[1],u=l[2];return[c*i,r-u*r]}}}function y(e,t,i){return null===e?t:/^\s*$/.test(e)?i:!!/true|yes|1/i.test(e)||!/false|no|0/i.test(e)&&t}function w(e,t,i){if(null===e)return t;if(/^\s*$/.test(e))return i;var r=e.split(",").map(Number);return 2===r.length&&r[0]&&r[1]?r:t}var k=function(){function e(t,i){if(c(this,e),i?(t=v(t),this.options=Object.assign({},h,i)):t&&(0,s.default)(t)?(this.options=Object.assign({},h,t),t=v(this.options.attachTo)):(this.options=Object.assign({},h),t=v((0,n.nvl)(t,this.options.attachTo))),!t)throw new Error("Container not found: "+this.options.attachTo);!function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"acp-";if(t.hasAttribute(i+"show-hsl")&&(e.showHSL=y(t.getAttribute(i+"show-hsl"),h.showHSL,!0)),t.hasAttribute(i+"show-rgb")&&(e.showRGB=y(t.getAttribute(i+"show-rgb"),h.showRGB,!0)),t.hasAttribute(i+"show-hex")&&(e.showHEX=y(t.getAttribute(i+"show-hex"),h.showHEX,!0)),t.hasAttribute(i+"show-alpha")&&(e.showAlpha=y(t.getAttribute(i+"show-alpha"),h.showAlpha,!0)),t.hasAttribute(i+"palette-editable")&&(e.paletteEditable=y(t.getAttribute(i+"palette-editable"),h.paletteEditable,!0)),t.hasAttribute(i+"sl-bar-size")&&(e.slBarSize=w(t.getAttribute(i+"sl-bar-size"),h.slBarSize,[232,150])),t.hasAttribute(i+"hue-bar-size")&&(e.hueBarSize=w(t.getAttribute(i+"hue-bar-size"),h.hueBarSize,[150,11]),e.alphaBarSize=e.hueBarSize),t.hasAttribute(i+"palette")){var r=t.getAttribute(i+"palette");switch(r){case"PALETTE_MATERIAL_500":e.palette=n.PALETTE_MATERIAL_500;break;case"PALETTE_MATERIAL_CHROME":case"":e.palette=n.PALETTE_MATERIAL_CHROME;break;default:e.palette=r.split(/[;|]/)}}t.hasAttribute(i+"color")&&(e.color=t.getAttribute(i+"color"))}(this.options,t),this.H=0,this.S=0,this.L=0,this.R=0,this.G=0,this.B=0,this.A=1,this.palette={},this.element=document.createElement("div"),this.options.id&&(this.element.id=this.options.id),this.element.className="a-color-picker",this.element.innerHTML=a.default,t.appendChild(this.element);var r=this.element.querySelector(".a-color-picker-h");this.setupHueCanvas(r),this.hueBarHelper=b(r),this.huePointer=this.element.querySelector(".a-color-picker-h+.a-color-picker-dot");var o=this.element.querySelector(".a-color-picker-sl");this.setupSlCanvas(o),this.slBarHelper=b(o),this.slPointer=this.element.querySelector(".a-color-picker-sl+.a-color-picker-dot"),this.preview=this.element.querySelector(".a-color-picker-preview"),this.setupClipboard(this.preview.querySelector(".a-color-picker-clipbaord")),this.options.showHSL?(this.setupInput(this.inputH=this.element.querySelector(".a-color-picker-hsl>input[nameref=H]")),this.setupInput(this.inputS=this.element.querySelector(".a-color-picker-hsl>input[nameref=S]")),this.setupInput(this.inputL=this.element.querySelector(".a-color-picker-hsl>input[nameref=L]"))):this.element.querySelector(".a-color-picker-hsl").remove(),this.options.showRGB?(this.setupInput(this.inputR=this.element.querySelector(".a-color-picker-rgb>input[nameref=R]")),this.setupInput(this.inputG=this.element.querySelector(".a-color-picker-rgb>input[nameref=G]")),this.setupInput(this.inputB=this.element.querySelector(".a-color-picker-rgb>input[nameref=B]"))):this.element.querySelector(".a-color-picker-rgb").remove(),this.options.showHEX?this.setupInput(this.inputRGBHEX=this.element.querySelector("input[nameref=RGBHEX]")):this.element.querySelector(".a-color-picker-rgbhex").remove(),this.options.paletteEditable||this.options.palette&&this.options.palette.length>0?this.setPalette(this.paletteRow=this.element.querySelector(".a-color-picker-palette")):(this.paletteRow=this.element.querySelector(".a-color-picker-palette"),this.paletteRow.remove()),this.options.showAlpha?(this.setupAlphaCanvas(this.element.querySelector(".a-color-picker-a")),this.alphaPointer=this.element.querySelector(".a-color-picker-a+.a-color-picker-dot")):this.element.querySelector(".a-color-picker-alpha").remove(),this.element.style.width=this.options.slBarSize[0]+"px",this.onValueChanged(g,this.options.color)}return r(e,[{key:"setupHueCanvas",value:function(e){var t=this;e.width=this.options.hueBarSize[0],e.height=this.options.hueBarSize[1];for(var i=e.getContext("2d"),r=i.createLinearGradient(0,0,this.options.hueBarSize[0],0),o=0;o<=1;o+=1/360)r.addColorStop(o,"hsl("+360*o+", 100%, 50%)");i.fillStyle=r,i.fillRect(0,0,this.options.hueBarSize[0],this.options.hueBarSize[1]);var s=function(i){var r=(0,n.limit)(i.clientX-e.getBoundingClientRect().left,0,t.options.hueBarSize[0]),o=Math.round(360*r/t.options.hueBarSize[0]);t.huePointer.style.left=r-7+"px",t.onValueChanged("H",o)},a=function e(){document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",e)};e.addEventListener("mousedown",(function(e){s(e),document.addEventListener("mousemove",s),document.addEventListener("mouseup",a)}))}},{key:"setupSlCanvas",value:function(e){var t=this;e.width=this.options.slBarSize[0],e.height=this.options.slBarSize[1];var i=function(i){var r=(0,n.limit)(i.clientX-e.getBoundingClientRect().left,0,t.options.slBarSize[0]-1),o=(0,n.limit)(i.clientY-e.getBoundingClientRect().top,0,t.options.slBarSize[1]-1),s=t.slBarHelper.grabColor(r,o);t.slPointer.style.left=r-7+"px",t.slPointer.style.top=o-7+"px",t.onValueChanged("RGB",s)},r=function e(){document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",e)};e.addEventListener("mousedown",(function(e){i(e),document.addEventListener("mousemove",i),document.addEventListener("mouseup",r)}))}},{key:"setupAlphaCanvas",value:function(e){var t=this;e.width=this.options.alphaBarSize[0],e.height=this.options.alphaBarSize[1];var i=e.getContext("2d"),r=i.createLinearGradient(0,0,e.width-1,0);r.addColorStop(0,"hsla(0, 0%, 50%, 0)"),r.addColorStop(1,"hsla(0, 0%, 50%, 1)"),i.fillStyle=r,i.fillRect(0,0,this.options.alphaBarSize[0],this.options.alphaBarSize[1]);var o=function(i){var r=(0,n.limit)(i.clientX-e.getBoundingClientRect().left,0,t.options.alphaBarSize[0]),o=+(r/t.options.alphaBarSize[0]).toFixed(2);t.alphaPointer.style.left=r-7+"px",t.onValueChanged("ALPHA",o)},s=function e(){document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",e)};e.addEventListener("mousedown",(function(e){o(e),document.addEventListener("mousemove",o),document.addEventListener("mouseup",s)}))}},{key:"setupInput",value:function(e){var t=this,i=+e.min,r=+e.max,o=e.getAttribute("nameref");e.hasAttribute("select-on-focus")&&e.addEventListener("focus",(function(){e.select()})),"text"===e.type?e.addEventListener("change",(function(){t.onValueChanged(o,e.value)})):((d||p)&&e.addEventListener("keydown",(function(s){"Up"===s.key?(e.value=(0,n.limit)(+e.value+1,i,r),t.onValueChanged(o,e.value),s.returnValue=!1):"Down"===s.key&&(e.value=(0,n.limit)(+e.value-1,i,r),t.onValueChanged(o,e.value),s.returnValue=!1)})),e.addEventListener("change",(function(){var s=+e.value;t.onValueChanged(o,(0,n.limit)(s,i,r))})))}},{key:"setupClipboard",value:function(e){var t=this;e.title="click to copy",e.addEventListener("click",(function(){e.value=(0,n.parseColor)([t.R,t.G,t.B,t.A],"hexcss4"),e.select(),document.execCommand("copy")}))}},{key:"setPalette",value:function(e){var t=this,i="auto"===this.options.useAlphaInPalette?this.options.showAlpha:this.options.useAlphaInPalette,r=null;switch(this.options.palette){case"PALETTE_MATERIAL_500":r=n.PALETTE_MATERIAL_500;break;case"PALETTE_MATERIAL_CHROME":r=n.PALETTE_MATERIAL_CHROME;break;default:r=(0,n.ensureArray)(this.options.palette)}if(this.options.paletteEditable||r.length>0){var o=function(i,r,o){var n=e.querySelector('.a-color-picker-palette-color[data-color="'+i+'"]')||document.createElement("div");n.className="a-color-picker-palette-color",n.style.backgroundColor=i,n.setAttribute("data-color",i),n.title=i,e.insertBefore(n,r),t.palette[i]=!0,o&&t.onPaletteColorAdd(i)},s=function(i,r){i?(e.removeChild(i),t.palette[i.getAttribute("data-color")]=!1,r&&t.onPaletteColorRemove(i.getAttribute("data-color"))):(e.querySelectorAll(".a-color-picker-palette-color[data-color]").forEach((function(t){e.removeChild(t)})),Object.keys(t.palette).forEach((function(e){t.palette[e]=!1})),r&&t.onPaletteColorRemove())};if(r.map((function(e){return(0,n.parseColor)(e,i?"rgbcss4":"hex")})).filter((function(e){return!!e})).forEach((function(e){return o(e)})),this.options.paletteEditable){var a=document.createElement("div");a.className="a-color-picker-palette-color a-color-picker-palette-add",a.innerHTML="+",e.appendChild(a),e.addEventListener("click",(function(e){/a-color-picker-palette-add/.test(e.target.className)?e.shiftKey?s(null,!0):o(i?(0,n.parseColor)([t.R,t.G,t.B,t.A],"rgbcss4"):(0,n.rgbToHex)(t.R,t.G,t.B),e.target,!0):/a-color-picker-palette-color/.test(e.target.className)&&(e.shiftKey?s(e.target,!0):t.onValueChanged(g,e.target.getAttribute("data-color")))}))}else e.addEventListener("click",(function(e){/a-color-picker-palette-color/.test(e.target.className)&&t.onValueChanged(g,e.target.getAttribute("data-color"))}))}else e.style.display="none"}},{key:"updatePalette",value:function(e){this.paletteRow.innerHTML="",this.palette={},this.paletteRow.parentElement||this.element.appendChild(this.paletteRow),this.options.palette=e,this.setPalette(this.paletteRow)}},{key:"onValueChanged",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{silent:!1};switch(e){case"H":this.H=t;var r=(0,n.hslToRgb)(this.H,this.S,this.L),s=o(r,3);this.R=s[0],this.G=s[1],this.B=s[2],this.slBarHelper.setHue(t),this.updatePointerH(this.H),this.updateInputHSL(this.H,this.S,this.L),this.updateInputRGB(this.R,this.G,this.B),this.updateInputRGBHEX(this.R,this.G,this.B);break;case"S":this.S=t;var a=(0,n.hslToRgb)(this.H,this.S,this.L),l=o(a,3);this.R=l[0],this.G=l[1],this.B=l[2],this.updatePointerSL(this.H,this.S,this.L),this.updateInputHSL(this.H,this.S,this.L),this.updateInputRGB(this.R,this.G,this.B),this.updateInputRGBHEX(this.R,this.G,this.B);break;case"L":this.L=t;var c=(0,n.hslToRgb)(this.H,this.S,this.L),u=o(c,3);this.R=u[0],this.G=u[1],this.B=u[2],this.updatePointerSL(this.H,this.S,this.L),this.updateInputHSL(this.H,this.S,this.L),this.updateInputRGB(this.R,this.G,this.B),this.updateInputRGBHEX(this.R,this.G,this.B);break;case"R":this.R=t;var d=(0,n.rgbToHsl)(this.R,this.G,this.B),p=o(d,3);this.H=p[0],this.S=p[1],this.L=p[2],this.slBarHelper.setHue(this.H),this.updatePointerH(this.H),this.updatePointerSL(this.H,this.S,this.L),this.updateInputHSL(this.H,this.S,this.L),this.updateInputRGBHEX(this.R,this.G,this.B);break;case"G":this.G=t;var h=(0,n.rgbToHsl)(this.R,this.G,this.B),v=o(h,3);this.H=v[0],this.S=v[1],this.L=v[2],this.slBarHelper.setHue(this.H),this.updatePointerH(this.H),this.updatePointerSL(this.H,this.S,this.L),this.updateInputHSL(this.H,this.S,this.L),this.updateInputRGBHEX(this.R,this.G,this.B);break;case"B":this.B=t;var b=(0,n.rgbToHsl)(this.R,this.G,this.B),y=o(b,3);this.H=y[0],this.S=y[1],this.L=y[2],this.slBarHelper.setHue(this.H),this.updatePointerH(this.H),this.updatePointerSL(this.H,this.S,this.L),this.updateInputHSL(this.H,this.S,this.L),this.updateInputRGBHEX(this.R,this.G,this.B);break;case"RGB":var w=o(t,3);this.R=w[0],this.G=w[1],this.B=w[2];var k=(0,n.rgbToHsl)(this.R,this.G,this.B),A=o(k,3);this.H=A[0],this.S=A[1],this.L=A[2],this.updateInputHSL(this.H,this.S,this.L),this.updateInputRGB(this.R,this.G,this.B),this.updateInputRGBHEX(this.R,this.G,this.B);break;case f:var x=o(t,4);this.R=x[0],this.G=x[1],this.B=x[2],this.A=x[3];var S=(0,n.rgbToHsl)(this.R,this.G,this.B),C=o(S,3);this.H=C[0],this.S=C[1],this.L=C[2],this.slBarHelper.setHue(this.H),this.updatePointerH(this.H),this.updatePointerSL(this.H,this.S,this.L),this.updateInputHSL(this.H,this.S,this.L),this.updateInputRGB(this.R,this.G,this.B),this.updateInputRGBHEX(this.R,this.G,this.B),this.updatePointerA(this.A);break;case m:var F=o(t,4);this.H=F[0],this.S=F[1],this.L=F[2],this.A=F[3];var O=(0,n.hslToRgb)(this.H,this.S,this.L),E=o(O,3);this.R=E[0],this.G=E[1],this.B=E[2],this.slBarHelper.setHue(this.H),this.updatePointerH(this.H),this.updatePointerSL(this.H,this.S,this.L),this.updateInputHSL(this.H,this.S,this.L),this.updateInputRGB(this.R,this.G,this.B),this.updateInputRGBHEX(this.R,this.G,this.B),this.updatePointerA(this.A);break;case"RGBHEX":var L=(0,n.cssColorToRgb)(t)||[this.R,this.G,this.B],T=o(L,3);this.R=T[0],this.G=T[1],this.B=T[2];var I=(0,n.rgbToHsl)(this.R,this.G,this.B),_=o(I,3);this.H=_[0],this.S=_[1],this.L=_[2],this.slBarHelper.setHue(this.H),this.updatePointerH(this.H),this.updatePointerSL(this.H,this.S,this.L),this.updateInputHSL(this.H,this.S,this.L),this.updateInputRGB(this.R,this.G,this.B);break;case g:var H=(0,n.parseColor)(t,"rgba")||[0,0,0,1],R=o(H,4);this.R=R[0],this.G=R[1],this.B=R[2],this.A=R[3];var B=(0,n.rgbToHsl)(this.R,this.G,this.B),P=o(B,3);this.H=P[0],this.S=P[1],this.L=P[2],this.slBarHelper.setHue(this.H),this.updatePointerH(this.H),this.updatePointerSL(this.H,this.S,this.L),this.updateInputHSL(this.H,this.S,this.L),this.updateInputRGB(this.R,this.G,this.B),this.updateInputRGBHEX(this.R,this.G,this.B),this.updatePointerA(this.A);break;case"ALPHA":this.A=t}1===this.A?this.preview.style.backgroundColor="rgb("+this.R+","+this.G+","+this.B+")":this.preview.style.backgroundColor="rgba("+this.R+","+this.G+","+this.B+","+this.A+")",i&&i.silent||this.onchange&&this.onchange(this.preview.style.backgroundColor)}},{key:"onPaletteColorAdd",value:function(e){this.oncoloradd&&this.oncoloradd(e)}},{key:"onPaletteColorRemove",value:function(e){this.oncolorremove&&this.oncolorremove(e)}},{key:"updateInputHSL",value:function(e,t,i){this.options.showHSL&&(this.inputH.value=e,this.inputS.value=t,this.inputL.value=i)}},{key:"updateInputRGB",value:function(e,t,i){this.options.showRGB&&(this.inputR.value=e,this.inputG.value=t,this.inputB.value=i)}},{key:"updateInputRGBHEX",value:function(e,t,i){this.options.showHEX&&(this.inputRGBHEX.value=(0,n.rgbToHex)(e,t,i))}},{key:"updatePointerH",value:function(e){var t=this.options.hueBarSize[0]*e/360;this.huePointer.style.left=t-7+"px"}},{key:"updatePointerSL",value:function(e,t,i){var r=(0,n.hslToRgb)(e,t,i),s=o(r,3),a=s[0],l=s[1],c=s[2],u=this.slBarHelper.findColor(a,l,c),d=o(u,2),p=d[0],h=d[1];p>=0&&(this.slPointer.style.left=p-7+"px",this.slPointer.style.top=h-7+"px")}},{key:"updatePointerA",value:function(e){if(this.options.showAlpha){var t=this.options.alphaBarSize[0]*e;this.alphaPointer.style.left=t-7+"px"}}}]),e}(),A=function(){function e(t){c(this,e),this.name=t,this.listeners=[]}return r(e,[{key:"on",value:function(e){e&&this.listeners.push(e)}},{key:"off",value:function(e){this.listeners=e?this.listeners.filter((function(t){return t!==e})):[]}},{key:"emit",value:function(e,t){for(var i=this.listeners.slice(0),r=0;r<i.length;r++)i[r].apply(t,e)}}]),e}();function x(e,t){var i=new k(e,t),r={change:new A("change"),coloradd:new A("coloradd"),colorremove:new A("colorremove")},s=!0,a={},l={get element(){return i.element},get rgb(){return[i.R,i.G,i.B]},set rgb(e){var t=o(e,3),r=t[0],s=t[1],a=t[2],l=[(0,n.limit)(r,0,255),(0,n.limit)(s,0,255),(0,n.limit)(a,0,255)];r=l[0],s=l[1],a=l[2],i.onValueChanged(f,[r,s,a,1])},get hsl(){return[i.H,i.S,i.L]},set hsl(e){var t=o(e,3),r=t[0],s=t[1],a=t[2],l=[(0,n.limit)(r,0,360),(0,n.limit)(s,0,100),(0,n.limit)(a,0,100)];r=l[0],s=l[1],a=l[2],i.onValueChanged(m,[r,s,a,1])},get rgbhex(){return this.all.hex},get rgba(){return[i.R,i.G,i.B,i.A]},set rgba(e){var t=o(e,4),r=t[0],s=t[1],a=t[2],l=t[3],c=[(0,n.limit)(r,0,255),(0,n.limit)(s,0,255),(0,n.limit)(a,0,255),(0,n.limit)(l,0,1)];r=c[0],s=c[1],a=c[2],l=c[3],i.onValueChanged(f,[r,s,a,l])},get hsla(){return[i.H,i.S,i.L,i.A]},set hsla(e){var t=o(e,4),r=t[0],s=t[1],a=t[2],l=t[3],c=[(0,n.limit)(r,0,360),(0,n.limit)(s,0,100),(0,n.limit)(a,0,100),(0,n.limit)(l,0,1)];r=c[0],s=c[1],a=c[2],l=c[3],i.onValueChanged(m,[r,s,a,l])},get color(){return this.all.toString()},set color(e){i.onValueChanged(g,e)},setColor:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];i.onValueChanged(g,e,{silent:t})},get all(){if(s){var e=[i.R,i.G,i.B,i.A],t=i.A<1?"rgba("+i.R+","+i.G+","+i.B+","+i.A+")":n.rgbToHex.apply(void 0,e);(a=(0,n.parseColor)(e,a)).toString=function(){return t},s=!1}return Object.assign({},a)},get onchange(){return r.change&&r.change.listeners[0]},set onchange(e){this.off("change").on("change",e)},get oncoloradd(){return r.coloradd&&r.coloradd.listeners[0]},set oncoloradd(e){this.off("coloradd").on("coloradd",e)},get oncolorremove(){return r.colorremove&&r.colorremove.listeners[0]},set oncolorremove(e){this.off("colorremove").on("colorremove",e)},get palette(){return Object.keys(i.palette).filter((function(e){return i.palette[e]}))},set palette(e){i.updatePalette(e)},show:function(){i.element.classList.remove("hidden")},hide:function(){i.element.classList.add("hidden")},toggle:function(){i.element.classList.toggle("hidden")},on:function(e,t){return e&&r[e]&&r[e].on(t),this},off:function(e,t){return e&&r[e]&&r[e].off(t),this},destroy:function(){r.change.off(),r.coloradd.off(),r.colorremove.off(),i.element.remove(),r=null,i=null}};return i.onchange=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];s=!0,r.change.emit([l].concat(t),l)},i.oncoloradd=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];r.coloradd.emit([l].concat(t),l)},i.oncolorremove=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];r.colorremove.emit([l].concat(t),l)},i.element.ctrl=l,l}if("undefined"!=typeof window&&!document.querySelector('head>style[data-source="a-color-picker"]')){var S=i(5).toString(),C=document.createElement("style");C.setAttribute("type","text/css"),C.setAttribute("data-source","a-color-picker"),C.innerHTML=S,document.querySelector("head").appendChild(C)}t.createPicker=x,t.from=function(e,t){var i=function(e){return e?Array.isArray(e)?e:e instanceof HTMLElement?[e]:e instanceof NodeList?[].concat(u(e)):"string"==typeof e?[].concat(u(document.querySelectorAll(e))):e.jquery?e.get():[]:[]}(e).map((function(e,i){var r=x(e,t);return r.index=i,r}));return i.on=function(e,t){return i.forEach((function(i){return i.on(e,t)})),this},i.off=function(e){return i.forEach((function(t){return t.off(e)})),this},i},t.parseColorToRgb=n.parseColorToRgb,t.parseColorToRgba=n.parseColorToRgba,t.parseColorToHsl=n.parseColorToHsl,t.parseColorToHsla=n.parseColorToHsla,t.parseColor=n.parseColor,t.rgbToHex=n.rgbToHex,t.hslToRgb=n.hslToRgb,t.rgbToHsl=n.rgbToHsl,t.rgbToHsv=n.rgbToHsv,t.rgbToInt=n.rgbToInt,t.intToRgb=n.intToRgb,t.getLuminance=n.getLuminance,t.COLOR_NAMES=n.COLOR_NAMES,t.PALETTE_MATERIAL_500=n.PALETTE_MATERIAL_500,t.PALETTE_MATERIAL_CHROME=n.PALETTE_MATERIAL_CHROME,t.VERSION="1.2.1"},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nvl=t.ensureArray=t.limit=t.getLuminance=t.parseColor=t.parseColorToHsla=t.parseColorToHsl=t.cssHslaToHsla=t.cssHslToHsl=t.parseColorToRgba=t.parseColorToRgb=t.cssRgbaToRgba=t.cssRgbToRgb=t.cssColorToRgba=t.cssColorToRgb=t.intToRgb=t.rgbToInt=t.rgbToHsv=t.rgbToHsl=t.hslToRgb=t.rgbToHex=t.PALETTE_MATERIAL_CHROME=t.PALETTE_MATERIAL_500=t.COLOR_NAMES=void 0;var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],r=!0,o=!1,n=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(i.push(s.value),!t||i.length!==t);r=!0);}catch(e){o=!0,n=e}finally{try{!r&&a.return&&a.return()}finally{if(o)throw n}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(e){return e&&e.__esModule?e:{default:e}}(i(0));function n(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}var s={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4","indianred ":"#CD5C5C","indigo ":"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};function a(e,t,i){return e=+e,isNaN(e)||e<t?t:e>i?i:e}function l(e,t){return null==e?t:e}function c(e,t,i){var r=[a(e,0,255),a(t,0,255),a(i,0,255)];return"#"+("000000"+((e=r[0])<<16|(t=r[1])<<8|(i=r[2])).toString(16)).slice(-6)}function u(e,t,i){var r=void 0,o=void 0,n=void 0,s=[a(e,0,360)/360,a(t,0,100)/100,a(i,0,100)/100];if(e=s[0],i=s[2],0==(t=s[1]))r=o=n=i;else{var l=function(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e},c=i<.5?i*(1+t):i+t-i*t,u=2*i-c;r=l(u,c,e+1/3),o=l(u,c,e),n=l(u,c,e-1/3)}return[255*r,255*o,255*n].map(Math.round)}function d(e,t,i){var r=[a(e,0,255)/255,a(t,0,255)/255,a(i,0,255)/255];e=r[0],t=r[1],i=r[2];var o=Math.max(e,t,i),n=Math.min(e,t,i),s=void 0,l=void 0,c=(o+n)/2;if(o==n)s=l=0;else{var u=o-n;switch(l=c>.5?u/(2-o-n):u/(o+n),o){case e:s=(t-i)/u+(t<i?6:0);break;case t:s=(i-e)/u+2;break;case i:s=(e-t)/u+4}s/=6}return[360*s,100*l,100*c].map(Math.round)}function p(e,t,i){return e<<16|t<<8|i}function h(e){if(e){var t=s[e.toString().toLowerCase()],i=/^\s*#?((([0-9A-F])([0-9A-F])([0-9A-F]))|(([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})))\s*$/i.exec(t||e)||[],o=r(i,10),n=o[3],a=o[4],l=o[5],c=o[7],u=o[8],d=o[9];if(void 0!==n)return[parseInt(n+n,16),parseInt(a+a,16),parseInt(l+l,16)];if(void 0!==c)return[parseInt(c,16),parseInt(u,16),parseInt(d,16)]}}function g(e){if(e){var t=s[e.toString().toLowerCase()],i=/^\s*#?((([0-9A-F])([0-9A-F])([0-9A-F])([0-9A-F])?)|(([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})?))\s*$/i.exec(t||e)||[],o=r(i,12),n=o[3],a=o[4],l=o[5],c=o[6],u=o[8],d=o[9],p=o[10],h=o[11];if(void 0!==n)return[parseInt(n+n,16),parseInt(a+a,16),parseInt(l+l,16),c?+(parseInt(c+c,16)/255).toFixed(2):1];if(void 0!==u)return[parseInt(u,16),parseInt(d,16),parseInt(p,16),h?+(parseInt(h,16)/255).toFixed(2):1]}}function f(e){if(e){var t=/^rgb\((\d+)[\s,](\d+)[\s,](\d+)\)/i.exec(e)||[],i=r(t,4),o=i[0],n=i[1],s=i[2],l=i[3];return o?[a(n,0,255),a(s,0,255),a(l,0,255)]:void 0}}function m(e){if(e){var t=/^rgba?\((\d+)\s*[\s,]\s*(\d+)\s*[\s,]\s*(\d+)(\s*[\s,]\s*(\d*(.\d+)?))?\)/i.exec(e)||[],i=r(t,6),o=i[0],n=i[1],s=i[2],c=i[3],u=i[5];return o?[a(n,0,255),a(s,0,255),a(c,0,255),a(l(u,1),0,1)]:void 0}}function v(e){if(Array.isArray(e))return[a(e[0],0,255),a(e[1],0,255),a(e[2],0,255),a(l(e[3],1),0,1)];var t=g(e)||m(e);return t&&3===t.length&&t.push(1),t}function b(e){if(e){var t=/^hsl\((\d+)[\s,](\d+)[\s,](\d+)\)/i.exec(e)||[],i=r(t,4),o=i[0],n=i[1],s=i[2],l=i[3];return o?[a(n,0,360),a(s,0,100),a(l,0,100)]:void 0}}function y(e){if(e){var t=/^hsla?\((\d+)\s*[\s,]\s*(\d+)\s*[\s,]\s*(\d+)(\s*[\s,]\s*(\d*(.\d+)?))?\)/i.exec(e)||[],i=r(t,6),o=i[0],n=i[1],s=i[2],c=i[3],u=i[5];return o?[a(n,0,255),a(s,0,255),a(c,0,255),a(l(u,1),0,1)]:void 0}}function w(e){if(Array.isArray(e))return[a(e[0],0,360),a(e[1],0,100),a(e[2],0,100),a(l(e[3],1),0,1)];var t=y(e);return t&&3===t.length&&t.push(1),t}function k(e,t){switch(t){case"rgb":default:return e.slice(0,3);case"rgbcss":return"rgb("+e[0]+", "+e[1]+", "+e[2]+")";case"rgbcss4":return"rgb("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")";case"rgba":return e;case"rgbacss":return"rgba("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")";case"hsl":return d.apply(void 0,n(e));case"hslcss":return"hsl("+(e=d.apply(void 0,n(e)))[0]+", "+e[1]+", "+e[2]+")";case"hslcss4":var i=d.apply(void 0,n(e));return"hsl("+i[0]+", "+i[1]+", "+i[2]+", "+e[3]+")";case"hsla":return[].concat(n(d.apply(void 0,n(e))),[e[3]]);case"hslacss":var r=d.apply(void 0,n(e));return"hsla("+r[0]+", "+r[1]+", "+r[2]+", "+e[3]+")";case"hex":return c.apply(void 0,n(e));case"hexcss4":return c.apply(void 0,n(e))+("00"+parseInt(255*e[3]).toString(16)).slice(-2);case"int":return p.apply(void 0,n(e))}}t.COLOR_NAMES=s,t.PALETTE_MATERIAL_500=["#F44336","#E91E63","#E91E63","#9C27B0","#9C27B0","#673AB7","#673AB7","#3F51B5","#3F51B5","#2196F3","#2196F3","#03A9F4","#03A9F4","#00BCD4","#00BCD4","#009688","#009688","#4CAF50","#4CAF50","#8BC34A","#8BC34A","#CDDC39","#CDDC39","#FFEB3B","#FFEB3B","#FFC107","#FFC107","#FF9800","#FF9800","#FF5722","#FF5722","#795548","#795548","#9E9E9E","#9E9E9E","#607D8B","#607D8B"],t.PALETTE_MATERIAL_CHROME=["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722","#795548","#9e9e9e","#607d8b"],t.rgbToHex=c,t.hslToRgb=u,t.rgbToHsl=d,t.rgbToHsv=function(e,t,i){var r=[a(e,0,255)/255,a(t,0,255)/255,a(i,0,255)/255];e=r[0],t=r[1],i=r[2];var o,n=Math.max(e,t,i),s=Math.min(e,t,i),l=void 0,c=n,u=n-s;if(o=0===n?0:u/n,n==s)l=0;else{switch(n){case e:l=(t-i)/u+(t<i?6:0);break;case t:l=(i-e)/u+2;break;case i:l=(e-t)/u+4}l/=6}return[l,o,c]},t.rgbToInt=p,t.intToRgb=function(e){return[e>>16&255,e>>8&255,255&e]},t.cssColorToRgb=h,t.cssColorToRgba=g,t.cssRgbToRgb=f,t.cssRgbaToRgba=m,t.parseColorToRgb=function(e){return Array.isArray(e)?e=[a(e[0],0,255),a(e[1],0,255),a(e[2],0,255)]:h(e)||f(e)},t.parseColorToRgba=v,t.cssHslToHsl=b,t.cssHslaToHsla=y,t.parseColorToHsl=function(e){return Array.isArray(e)?e=[a(e[0],0,360),a(e[1],0,100),a(e[2],0,100)]:b(e)},t.parseColorToHsla=w,t.parseColor=function(e,t){if(t=t||"rgb",null!=e){var i=void 0;if((i=v(e))||(i=w(e))&&(i=[].concat(n(u.apply(void 0,n(i))),[i[3]])))return(0,o.default)(t)?["rgb","rgbcss","rgbcss4","rgba","rgbacss","hsl","hslcss","hslcss4","hsla","hslacss","hex","hexcss4","int"].reduce((function(e,t){return e[t]=k(i,t),e}),t||{}):k(i,t.toString().toLowerCase())}},t.getLuminance=function(e,t,i){return.2126*(e=(e/=255)<.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(t=(t/=255)<.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.0722*((i/=255)<.03928?i/12.92:Math.pow((i+.055)/1.055,2.4))},t.limit=a,t.ensureArray=function(e){return e?Array.from(e):[]},t.nvl=l},function(e,t,i){"use strict";e.exports=function(e){return null!=e&&"object"==typeof e&&!1===Array.isArray(e)}},function(e,t){e.exports='<div class="a-color-picker-row a-color-picker-stack a-color-picker-row-top"> <canvas class="a-color-picker-sl a-color-picker-transparent"></canvas> <div class=a-color-picker-dot></div> </div> <div class=a-color-picker-row> <div class="a-color-picker-stack a-color-picker-transparent a-color-picker-circle"> <div class=a-color-picker-preview> <input class=a-color-picker-clipbaord type=text> </div> </div> <div class=a-color-picker-column> <div class="a-color-picker-cell a-color-picker-stack"> <canvas class=a-color-picker-h></canvas> <div class=a-color-picker-dot></div> </div> <div class="a-color-picker-cell a-color-picker-alpha a-color-picker-stack" show-on-alpha> <canvas class="a-color-picker-a a-color-picker-transparent"></canvas> <div class=a-color-picker-dot></div> </div> </div> </div> <div class="a-color-picker-row a-color-picker-hsl" show-on-hsl> <label>H</label> <input nameref=H type=number maxlength=3 min=0 max=360 value=0> <label>S</label> <input nameref=S type=number maxlength=3 min=0 max=100 value=0> <label>L</label> <input nameref=L type=number maxlength=3 min=0 max=100 value=0> </div> <div class="a-color-picker-row a-color-picker-rgb" show-on-rgb> <label>R</label> <input nameref=R type=number maxlength=3 min=0 max=255 value=0> <label>G</label> <input nameref=G type=number maxlength=3 min=0 max=255 value=0> <label>B</label> <input nameref=B type=number maxlength=3 min=0 max=255 value=0> </div> <div class="a-color-picker-row a-color-picker-rgbhex a-color-picker-single-input" show-on-single-input> <label>HEX</label> <input nameref=RGBHEX type=text select-on-focus> </div> <div class="a-color-picker-row a-color-picker-palette"></div>'},function(e,t,i){var r=i(6);e.exports="string"==typeof r?r:r.toString()},function(e,t,i){(e.exports=i(7)(!1)).push([e.i,"/*!\n * a-color-picker\n * https://github.com/narsenico/a-color-picker\n *\n * Copyright (c) 2017-2018, Gianfranco Caldi.\n * Released under the MIT License.\n */.a-color-picker{background-color:#fff;padding:0;display:inline-flex;flex-direction:column;user-select:none;width:232px;font:400 10px Helvetica,Arial,sans-serif;border-radius:3px;box-shadow:0 0 0 1px rgba(0,0,0,.05),0 2px 4px rgba(0,0,0,.25)}.a-color-picker,.a-color-picker-row,.a-color-picker input{box-sizing:border-box}.a-color-picker-row{padding:15px;display:flex;flex-direction:row;align-items:center;justify-content:space-between;user-select:none}.a-color-picker-row-top{padding:0}.a-color-picker-row:not(:first-child){border-top:1px solid #f5f5f5}.a-color-picker-column{display:flex;flex-direction:column}.a-color-picker-cell{flex:1 1 auto;margin-bottom:4px}.a-color-picker-cell:last-child{margin-bottom:0}.a-color-picker-stack{position:relative}.a-color-picker-dot{position:absolute;width:14px;height:14px;top:0;left:0;background:#fff;pointer-events:none;border-radius:50px;z-index:1000;box-shadow:0 1px 2px rgba(0,0,0,.75)}.a-color-picker-a,.a-color-picker-h,.a-color-picker-sl{cursor:cell}.a-color-picker-a+.a-color-picker-dot,.a-color-picker-h+.a-color-picker-dot{top:-2px}.a-color-picker-a,.a-color-picker-h{border-radius:2px}.a-color-picker-preview{box-sizing:border-box;width:30px;height:30px;user-select:none;border-radius:15px}.a-color-picker-circle{border-radius:50px;border:1px solid #eee}.a-color-picker-hsl,.a-color-picker-rgb,.a-color-picker-single-input{justify-content:space-evenly}.a-color-picker-hsl>label,.a-color-picker-rgb>label,.a-color-picker-single-input>label{padding:0 8px;flex:0 0 auto;color:#969696}.a-color-picker-hsl>input,.a-color-picker-rgb>input,.a-color-picker-single-input>input{text-align:center;padding:2px 0;width:0;flex:1 1 auto;border:1px solid #e0e0e0;line-height:20px}.a-color-picker-hsl>input::-webkit-inner-spin-button,.a-color-picker-rgb>input::-webkit-inner-spin-button,.a-color-picker-single-input>input::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.a-color-picker-hsl>input:focus,.a-color-picker-rgb>input:focus,.a-color-picker-single-input>input:focus{border-color:#04a9f4;outline:none}.a-color-picker-transparent{background-image:linear-gradient(-45deg,#cdcdcd 25%,transparent 0),linear-gradient(45deg,#cdcdcd 25%,transparent 0),linear-gradient(-45deg,transparent 75%,#cdcdcd 0),linear-gradient(45deg,transparent 75%,#cdcdcd 0);background-size:11px 11px;background-position:0 0,0 -5.5px,-5.5px 5.5px,5.5px 0}.a-color-picker-sl{border-radius:3px 3px 0 0}.a-color-picker.hide-alpha [show-on-alpha],.a-color-picker.hide-hsl [show-on-hsl],.a-color-picker.hide-rgb [show-on-rgb],.a-color-picker.hide-single-input [show-on-single-input]{display:none}.a-color-picker-clipbaord{width:100%;height:100%;opacity:0;cursor:pointer}.a-color-picker-palette{flex-flow:wrap;flex-direction:row;justify-content:flex-start;padding:10px}.a-color-picker-palette-color{width:15px;height:15px;flex:0 1 15px;margin:3px;box-sizing:border-box;cursor:pointer;border-radius:3px;box-shadow:inset 0 0 0 1px rgba(0,0,0,.1)}.a-color-picker-palette-add{text-align:center;line-height:13px;color:#607d8b}.a-color-picker.hidden{display:none}",""])},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i=function(e,t){var i=e[1]||"",r=e[3];if(!r)return i;if(t&&"function"==typeof btoa){var o=function(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}(r),n=r.sources.map((function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"}));return[i].concat(n).concat([o]).join("\n")}return[i].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+i+"}":i})).join("")},t.i=function(e,i){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var n=this[o][0];"number"==typeof n&&(r[n]=!0)}for(o=0;o<e.length;o++){var s=e[o];"number"==typeof s[0]&&r[s[0]]||(i&&!s[2]?s[2]=i:i&&(s[2]="("+s[2]+") and ("+i+")"),t.push(s))}},t}}])},12:(e,t,i)=>{var r=i(9334),o=i(1324);function n(e){return null==e}function s(e){(e=function(e){var t={};for(var i in e)t[i]=e[i];return t}(e||{})).whiteList=e.whiteList||r.whiteList,e.onAttr=e.onAttr||r.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||r.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||r.safeAttrValue,this.options=e}i(1499),s.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,i=t.whiteList,r=t.onAttr,s=t.onIgnoreAttr,a=t.safeAttrValue;return o(e,(function(e,t,o,l,c){var u=i[o],d=!1;if(!0===u?d=u:"function"==typeof u?d=u(l):u instanceof RegExp&&(d=u.test(l)),!0!==d&&(d=!1),l=a(o,l)){var p,h={position:t,sourcePosition:e,source:c,isWhite:d};return d?n(p=r(o,l,h))?o+":"+l:p:n(p=s(o,l,h))?void 0:p}}))},e.exports=s},9334:(e,t)=>{function i(){return{"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1}}var r=/javascript\s*\:/gim;t.whiteList={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1},t.getDefaultWhiteList=i,t.onAttr=function(e,t,i){},t.onIgnoreAttr=function(e,t,i){},t.safeAttrValue=function(e,t){return r.test(t)?"":t}},9235:(e,t,i)=>{var r=i(9334),o=i(12);for(var n in(t=e.exports=function(e,t){return new o(t).process(e)}).FilterCSS=o,r)t[n]=r[n];"undefined"!=typeof window&&(window.filterCSS=e.exports)},1324:(e,t,i)=>{var r=i(1499);e.exports=function(e,t){";"!==(e=r.trimRight(e))[e.length-1]&&(e+=";");var i=e.length,o=!1,n=0,s=0,a="";function l(){if(!o){var i=r.trim(e.slice(n,s)),l=i.indexOf(":");if(-1!==l){var c=r.trim(i.slice(0,l)),u=r.trim(i.slice(l+1));if(c){var d=t(n,a.length,c,u,i);d&&(a+=d+"; ")}}}n=s+1}for(;s<i;s++){var c=e[s];if("/"===c&&"*"===e[s+1]){var u=e.indexOf("*/",s+2);if(-1===u)break;n=(s=u+1)+1,o=!1}else"("===c?o=!0:")"===c?o=!1:";"===c?o||l():"\n"===c&&l()}return r.trim(a)}},1499:e=>{e.exports={indexOf:function(e,t){var i,r;if(Array.prototype.indexOf)return e.indexOf(t);for(i=0,r=e.length;i<r;i++)if(e[i]===t)return i;return-1},forEach:function(e,t,i){var r,o;if(Array.prototype.forEach)return e.forEach(t,i);for(r=0,o=e.length;r<o;r++)t.call(i,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}}},2996:function(e){e.exports=function(){"use strict";function e(e,t){e.split(/\s+/).forEach((e=>{t(e)}))}class t{constructor(){this._events=void 0,this._events={}}on(t,i){e(t,(e=>{const t=this._events[e]||[];t.push(i),this._events[e]=t}))}off(t,i){var r=arguments.length;0!==r?e(t,(e=>{if(1===r)return void delete this._events[e];const t=this._events[e];void 0!==t&&(t.splice(t.indexOf(i),1),this._events[e]=t)})):this._events={}}trigger(t,...i){var r=this;e(t,(e=>{const t=r._events[e];void 0!==t&&t.forEach((e=>{e.apply(r,i)}))}))}}const i=e=>(e=e.filter(Boolean)).length<2?e[0]||"":1==a(e)?"["+e.join("")+"]":"(?:"+e.join("|")+")",r=e=>{if(!n(e))return e.join("");let t="",i=0;const r=()=>{i>1&&(t+="{"+i+"}")};return e.forEach(((o,n)=>{o!==e[n-1]?(r(),t+=o,i=1):i++})),r(),t},o=e=>{let t=c(e);return i(t)},n=e=>new Set(e).size!==e.length,s=e=>(e+"").replace(/([\$\(\)\*\+\.\?\[\]\^\{\|\}\\])/gu,"\\$1"),a=e=>e.reduce(((e,t)=>Math.max(e,l(t))),0),l=e=>c(e).length,c=e=>Array.from(e),u=e=>{if(1===e.length)return[[e]];let t=[];const i=e.substring(1);return u(i).forEach((function(i){let r=i.slice(0);r[0]=e.charAt(0)+r[0],t.push(r),r=i.slice(0),r.unshift(e.charAt(0)),t.push(r)})),t},d=[[0,65535]];let p,h;const g={},f={"/":"",0:"",a:"",aa:"",ae:"",ao:"",au:"",av:"",ay:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",oe:"",oi:"",oo:"",ou:"",p:"",q:"",r:"",s:"",t:"",th:"",tz:"",u:"",v:"",vy:"",w:"",y:"",z:"",hv:""};for(let e in f){let t=f[e]||"";for(let i=0;i<t.length;i++){let r=t.substring(i,i+1);g[r]=e}}const m=new RegExp(Object.keys(g).join("|")+"|[-]","gu"),v=(e,t="NFKD")=>e.normalize(t),b=e=>c(e).reduce(((e,t)=>e+y(t)),""),y=e=>(e=v(e).toLowerCase().replace(m,(e=>g[e]||"")),v(e,"NFC"));const w=e=>{const t={},i=(e,i)=>{const r=t[e]||new Set,n=new RegExp("^"+o(r)+"$","iu");i.match(n)||(r.add(s(i)),t[e]=r)};for(let t of function*(e){for(const[t,i]of e)for(let e=t;e<=i;e++){let t=String.fromCharCode(e),i=b(t);i!=t.toLowerCase()&&(i.length>3||0!=i.length&&(yield{folded:i,composed:t,code_point:e}))}}(e))i(t.folded,t.folded),i(t.folded,t.composed);return t},k=e=>{const t=w(e),r={};let n=[];for(let e in t){let i=t[e];i&&(r[e]=o(i)),e.length>1&&n.push(s(e))}n.sort(((e,t)=>t.length-e.length));const a=i(n);return h=new RegExp("^"+a,"u"),r},A=(e,t=1)=>(t=Math.max(t,e.length-1),i(u(e).map((e=>((e,t=1)=>{let i=0;return e=e.map((e=>(p[e]&&(i+=e.length),p[e]||e))),i>=t?r(e):""})(e,t))))),x=(e,t=!0)=>{let o=e.length>1?1:0;return i(e.map((e=>{let i=[];const n=t?e.length():e.length()-1;for(let t=0;t<n;t++)i.push(A(e.substrs[t]||"",o));return r(i)})))},S=(e,t)=>{for(const i of t){if(i.start!=e.start||i.end!=e.end)continue;if(i.substrs.join("")!==e.substrs.join(""))continue;let t=e.parts;const r=e=>{for(const i of t){if(i.start===e.start&&i.substr===e.substr)return!1;if(1!=e.length&&1!=i.length){if(e.start<i.start&&e.end>i.start)return!0;if(i.start<e.start&&i.end>e.start)return!0}}return!1};if(!(i.parts.filter(r).length>0))return!0}return!1};class C{constructor(){this.parts=[],this.substrs=[],this.start=0,this.end=0}add(e){e&&(this.parts.push(e),this.substrs.push(e.substr),this.start=Math.min(e.start,this.start),this.end=Math.max(e.end,this.end))}last(){return this.parts[this.parts.length-1]}length(){return this.parts.length}clone(e,t){let i=new C,r=JSON.parse(JSON.stringify(this.parts)),o=r.pop();for(const e of r)i.add(e);let n=t.substr.substring(0,e-o.start),s=n.length;return i.add({start:o.start,end:o.start+s,length:s,substr:n}),i}}const F=e=>{var t;void 0===p&&(p=k(t||d)),e=b(e);let i="",r=[new C];for(let t=0;t<e.length;t++){let o=e.substring(t).match(h);const n=e.substring(t,t+1),s=o?o[0]:null;let a=[],l=new Set;for(const e of r){const i=e.last();if(!i||1==i.length||i.end<=t)if(s){const i=s.length;e.add({start:t,end:t+i,length:i,substr:s}),l.add("1")}else e.add({start:t,end:t+1,length:1,substr:n}),l.add("2");else if(s){let r=e.clone(t,i);const o=s.length;r.add({start:t,end:t+o,length:o,substr:s}),a.push(r)}else l.add("3")}if(a.length>0){a=a.sort(((e,t)=>e.length()-t.length()));for(let e of a)S(e,r)||r.push(e)}else if(t>0&&1==l.size&&!l.has("3")){i+=x(r,!1);let e=new C;const t=r[0];t&&e.add(t.last()),r=[e]}}return i+=x(r,!0),i},O=(e,t)=>{if(e)return e[t]},E=(e,t)=>{if(e){for(var i,r=t.split(".");(i=r.shift())&&(e=e[i]););return e}},L=(e,t,i)=>{var r,o;return e?(e+="",null==t.regex||-1===(o=e.search(t.regex))?0:(r=t.string.length/e.length,0===o&&(r+=.5),r*i)):0},T=(e,t)=>{var i=e[t];if("function"==typeof i)return i;i&&!Array.isArray(i)&&(e[t]=[i])},I=(e,t)=>{if(Array.isArray(e))e.forEach(t);else for(var i in e)e.hasOwnProperty(i)&&t(e[i],i)},_=(e,t)=>"number"==typeof e&&"number"==typeof t?e>t?1:e<t?-1:0:(e=b(e+"").toLowerCase())>(t=b(t+"").toLowerCase())?1:t>e?-1:0;class H{constructor(e,t){this.items=void 0,this.settings=void 0,this.items=e,this.settings=t||{diacritics:!0}}tokenize(e,t,i){if(!e||!e.length)return[];const r=[],o=e.split(/\s+/);var n;return i&&(n=new RegExp("^("+Object.keys(i).map(s).join("|")+"):(.*)$")),o.forEach((e=>{let i,o=null,a=null;n&&(i=e.match(n))&&(o=i[1],e=i[2]),e.length>0&&(a=this.settings.diacritics?F(e)||null:s(e),a&&t&&(a="\\b"+a)),r.push({string:e,regex:a?new RegExp(a,"iu"):null,field:o})})),r}getScoreFunction(e,t){var i=this.prepareSearch(e,t);return this._getScoreFunction(i)}_getScoreFunction(e){const t=e.tokens,i=t.length;if(!i)return function(){return 0};const r=e.options.fields,o=e.weights,n=r.length,s=e.getAttrFn;if(!n)return function(){return 1};const a=1===n?function(e,t){const i=r[0].field;return L(s(t,i),e,o[i]||1)}:function(e,t){var i=0;if(e.field){const r=s(t,e.field);!e.regex&&r?i+=1/n:i+=L(r,e,1)}else I(o,((r,o)=>{i+=L(s(t,o),e,r)}));return i/n};return 1===i?function(e){return a(t[0],e)}:"and"===e.options.conjunction?function(e){var r,o=0;for(let i of t){if((r=a(i,e))<=0)return 0;o+=r}return o/i}:function(e){var r=0;return I(t,(t=>{r+=a(t,e)})),r/i}}getSortFunction(e,t){var i=this.prepareSearch(e,t);return this._getSortFunction(i)}_getSortFunction(e){var t,i=[];const r=this,o=e.options,n=!e.query&&o.sort_empty?o.sort_empty:o.sort;if("function"==typeof n)return n.bind(this);const s=function(t,i){return"$score"===t?i.score:e.getAttrFn(r.items[i.id],t)};if(n)for(let t of n)(e.query||"$score"!==t.field)&&i.push(t);if(e.query){t=!0;for(let e of i)if("$score"===e.field){t=!1;break}t&&i.unshift({field:"$score",direction:"desc"})}else i=i.filter((e=>"$score"!==e.field));return i.length?function(e,t){var r,o;for(let n of i)if(o=n.field,r=("desc"===n.direction?-1:1)*_(s(o,e),s(o,t)))return r;return 0}:null}prepareSearch(e,t){const i={};var r=Object.assign({},t);if(T(r,"sort"),T(r,"sort_empty"),r.fields){T(r,"fields");const e=[];r.fields.forEach((t=>{"string"==typeof t&&(t={field:t,weight:1}),e.push(t),i[t.field]="weight"in t?t.weight:1})),r.fields=e}return{options:r,query:e.toLowerCase().trim(),tokens:this.tokenize(e,r.respect_word_boundaries,i),total:0,items:[],weights:i,getAttrFn:r.nesting?E:O}}search(e,t){var i,r,o=this;r=this.prepareSearch(e,t),t=r.options,e=r.query;const n=t.score||o._getScoreFunction(r);e.length?I(o.items,((e,o)=>{i=n(e),(!1===t.filter||i>0)&&r.items.push({score:i,id:o})})):I(o.items,((e,t)=>{r.items.push({score:1,id:t})}));const s=o._getSortFunction(r);return s&&r.items.sort(s),r.total=r.items.length,"number"==typeof t.limit&&(r.items=r.items.slice(0,t.limit)),r}}const R=(e,t)=>{if(Array.isArray(e))e.forEach(t);else for(var i in e)e.hasOwnProperty(i)&&t(e[i],i)},B=e=>{if(e.jquery)return e[0];if(e instanceof HTMLElement)return e;if(P(e)){var t=document.createElement("template");return t.innerHTML=e.trim(),t.content.firstChild}return document.querySelector(e)},P=e=>"string"==typeof e&&e.indexOf("<")>-1,j=(e,t)=>{var i=document.createEvent("HTMLEvents");i.initEvent(t,!0,!1),e.dispatchEvent(i)},D=(e,t)=>{Object.assign(e.style,t)},G=(e,...t)=>{var i=z(t);(e=M(e)).map((e=>{i.map((t=>{e.classList.add(t)}))}))},q=(e,...t)=>{var i=z(t);(e=M(e)).map((e=>{i.map((t=>{e.classList.remove(t)}))}))},z=e=>{var t=[];return R(e,(e=>{"string"==typeof e&&(e=e.trim().split(/[\11\12\14\15\40]/)),Array.isArray(e)&&(t=t.concat(e))})),t.filter(Boolean)},M=e=>(Array.isArray(e)||(e=[e]),e),V=(e,t,i)=>{if(!i||i.contains(e))for(;e&&e.matches;){if(e.matches(t))return e;e=e.parentNode}},N=(e,t=0)=>t>0?e[e.length-1]:e[0],$=(e,t)=>{if(!e)return-1;t=t||e.nodeName;for(var i=0;e=e.previousElementSibling;)e.matches(t)&&i++;return i},X=(e,t)=>{R(t,((t,i)=>{null==t?e.removeAttribute(i):e.setAttribute(i,""+t)}))},Q=(e,t)=>{e.parentNode&&e.parentNode.replaceChild(t,e)},K=(e,t)=>{if(null===t)return;if("string"==typeof t){if(!t.length)return;t=new RegExp(t,"i")}const i=e=>3===e.nodeType?(e=>{var i=e.data.match(t);if(i&&e.data.length>0){var r=document.createElement("span");r.className="highlight";var o=e.splitText(i.index);o.splitText(i[0].length);var n=o.cloneNode(!0);return r.appendChild(n),Q(o,r),1}return 0})(e):((e=>{1!==e.nodeType||!e.childNodes||/(script|style)/i.test(e.tagName)||"highlight"===e.className&&"SPAN"===e.tagName||Array.from(e.childNodes).forEach((e=>{i(e)}))})(e),0);i(e)},W="undefined"!=typeof navigator&&/Mac/.test(navigator.userAgent)?"metaKey":"ctrlKey";var U={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:null,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,shouldOpen:null,maxOptions:50,maxItems:null,hideSelected:null,duplicates:!1,addPrecedence:!1,selectOnTab:!1,preload:null,allowEmptyOption:!1,refreshThrottle:300,loadThrottle:300,loadingClass:"loading",dataAttr:null,optgroupField:"optgroup",valueField:"value",labelField:"text",disabledField:"disabled",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"ts-wrapper",controlClass:"ts-control",dropdownClass:"ts-dropdown",dropdownContentClass:"ts-dropdown-content",itemClass:"item",optionClass:"option",dropdownParent:null,controlInput:'<input type="text" autocomplete="off" size="1" />',copyClassesToDropdown:!1,placeholder:null,hidePlaceholder:null,shouldLoad:function(e){return e.length>0},render:{}};const J=e=>null==e?null:Y(e),Y=e=>"boolean"==typeof e?e?"1":"0":e+"",Z=e=>(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),ee=(e,t)=>{var i;return function(r,o){var n=this;i&&(n.loading=Math.max(n.loading-1,0),clearTimeout(i)),i=setTimeout((function(){i=null,n.loadedSearches[r]=!0,e.call(n,r,o)}),t)}},te=(e,t,i)=>{var r,o=e.trigger,n={};for(r of(e.trigger=function(){var i=arguments[0];if(-1===t.indexOf(i))return o.apply(e,arguments);n[i]=arguments},i.apply(e,[]),e.trigger=o,t))r in n&&o.apply(e,n[r])},ie=(e,t=!1)=>{e&&(e.preventDefault(),t&&e.stopPropagation())},re=(e,t,i,r)=>{e.addEventListener(t,i,r)},oe=(e,t)=>!!t&&!!t[e]&&1==(t.altKey?1:0)+(t.ctrlKey?1:0)+(t.shiftKey?1:0)+(t.metaKey?1:0),ne=(e,t)=>e.getAttribute("id")||(e.setAttribute("id",t),t),se=e=>e.replace(/[\\"']/g,"\\$&"),ae=(e,t)=>{t&&e.append(t)};function le(e,t){var i=Object.assign({},U,t),r=i.dataAttr,o=i.labelField,n=i.valueField,s=i.disabledField,a=i.optgroupField,l=i.optgroupLabelField,c=i.optgroupValueField,u=e.tagName.toLowerCase(),d=e.getAttribute("placeholder")||e.getAttribute("data-placeholder");if(!d&&!i.allowEmptyOption){let t=e.querySelector('option[value=""]');t&&(d=t.textContent)}var p={placeholder:d,options:[],optgroups:[],items:[],maxItems:null};return"select"===u?(()=>{var t,u=p.options,d={},h=1;let g=0;var f=e=>{var t=Object.assign({},e.dataset),i=r&&t[r];return"string"==typeof i&&i.length&&(t=Object.assign(t,JSON.parse(i))),t},m=(e,t)=>{var r=J(e.value);if(null!=r&&(r||i.allowEmptyOption)){if(d.hasOwnProperty(r)){if(t){var l=d[r][a];l?Array.isArray(l)?l.push(t):d[r][a]=[l,t]:d[r][a]=t}}else{var c=f(e);c[o]=c[o]||e.textContent,c[n]=c[n]||r,c[s]=c[s]||e.disabled,c[a]=c[a]||t,c.$option=e,c.$order=c.$order||++g,d[r]=c,u.push(c)}e.selected&&p.items.push(r)}};p.maxItems=e.hasAttribute("multiple")?null:1,R(e.children,(e=>{var i,r,o;"optgroup"===(t=e.tagName.toLowerCase())?((o=f(i=e))[l]=o[l]||i.getAttribute("label")||"",o[c]=o[c]||h++,o[s]=o[s]||i.disabled,o.$order=o.$order||++g,p.optgroups.push(o),r=o[c],R(i.children,(e=>{m(e,r)}))):"option"===t&&m(e)}))})():(()=>{const t=e.getAttribute(r);if(t)p.options=JSON.parse(t),R(p.options,(e=>{p.items.push(e[n])}));else{var s=e.value.trim()||"";if(!i.allowEmptyOption&&!s.length)return;const t=s.split(i.delimiter);R(t,(e=>{const t={};t[o]=e,t[n]=e,p.options.push(t)})),p.items=t}})(),Object.assign({},U,p,t)}var ce=0;class ue extends(function(e){return e.plugins={},class extends e{constructor(...e){super(...e),this.plugins={names:[],settings:{},requested:{},loaded:{}}}static define(t,i){e.plugins[t]={name:t,fn:i}}initializePlugins(e){var t,i;const r=this,o=[];if(Array.isArray(e))e.forEach((e=>{"string"==typeof e?o.push(e):(r.plugins.settings[e.name]=e.options,o.push(e.name))}));else if(e)for(t in e)e.hasOwnProperty(t)&&(r.plugins.settings[t]=e[t],o.push(t));for(;i=o.shift();)r.require(i)}loadPlugin(t){var i=this,r=i.plugins,o=e.plugins[t];if(!e.plugins.hasOwnProperty(t))throw new Error('Unable to find "'+t+'" plugin');r.requested[t]=!0,r.loaded[t]=o.fn.apply(i,[i.plugins.settings[t]||{}]),r.names.push(t)}require(e){var t=this,i=t.plugins;if(!t.plugins.loaded.hasOwnProperty(e)){if(i.requested[e])throw new Error('Plugin has circular dependency ("'+e+'")');t.loadPlugin(e)}return i.loaded[e]}}}(t)){constructor(e,t){var i;super(),this.control_input=void 0,this.wrapper=void 0,this.dropdown=void 0,this.control=void 0,this.dropdown_content=void 0,this.focus_node=void 0,this.order=0,this.settings=void 0,this.input=void 0,this.tabIndex=void 0,this.is_select_tag=void 0,this.rtl=void 0,this.inputId=void 0,this._destroy=void 0,this.sifter=void 0,this.isOpen=!1,this.isDisabled=!1,this.isReadOnly=!1,this.isRequired=void 0,this.isInvalid=!1,this.isValid=!0,this.isLocked=!1,this.isFocused=!1,this.isInputHidden=!1,this.isSetup=!1,this.ignoreFocus=!1,this.ignoreHover=!1,this.hasOptions=!1,this.currentResults=void 0,this.lastValue="",this.caretPos=0,this.loading=0,this.loadedSearches={},this.activeOption=null,this.activeItems=[],this.optgroups={},this.options={},this.userOptions={},this.items=[],this.refreshTimeout=null,ce++;var r=B(e);if(r.tomselect)throw new Error("Tom Select already initialized on this element");r.tomselect=this,i=(window.getComputedStyle&&window.getComputedStyle(r,null)).getPropertyValue("direction");const o=le(r,t);this.settings=o,this.input=r,this.tabIndex=r.tabIndex||0,this.is_select_tag="select"===r.tagName.toLowerCase(),this.rtl=/rtl/i.test(i),this.inputId=ne(r,"tomselect-"+ce),this.isRequired=r.required,this.sifter=new H(this.options,{diacritics:o.diacritics}),o.mode=o.mode||(1===o.maxItems?"single":"multi"),"boolean"!=typeof o.hideSelected&&(o.hideSelected="multi"===o.mode),"boolean"!=typeof o.hidePlaceholder&&(o.hidePlaceholder="multi"!==o.mode);var n=o.createFilter;"function"!=typeof n&&("string"==typeof n&&(n=new RegExp(n)),n instanceof RegExp?o.createFilter=e=>n.test(e):o.createFilter=e=>this.settings.duplicates||!this.options[e]),this.initializePlugins(o.plugins),this.setupCallbacks(),this.setupTemplates();const s=B("<div>"),a=B("<div>"),l=this._render("dropdown"),c=B('<div role="listbox" tabindex="-1">'),u=this.input.getAttribute("class")||"",d=o.mode;var p;G(s,o.wrapperClass,u,d),G(a,o.controlClass),ae(s,a),G(l,o.dropdownClass,d),o.copyClassesToDropdown&&G(l,u),G(c,o.dropdownContentClass),ae(l,c),B(o.dropdownParent||s).appendChild(l),P(o.controlInput)?(p=B(o.controlInput),I(["autocorrect","autocapitalize","autocomplete","spellcheck"],(e=>{r.getAttribute(e)&&X(p,{[e]:r.getAttribute(e)})})),p.tabIndex=-1,a.appendChild(p),this.focus_node=p):o.controlInput?(p=B(o.controlInput),this.focus_node=p):(p=B("<input/>"),this.focus_node=a),this.wrapper=s,this.dropdown=l,this.dropdown_content=c,this.control=a,this.control_input=p,this.setup()}setup(){const e=this,t=e.settings,i=e.control_input,r=e.dropdown,o=e.dropdown_content,n=e.wrapper,a=e.control,l=e.input,c=e.focus_node,u={passive:!0},d=e.inputId+"-ts-dropdown";X(o,{id:d}),X(c,{role:"combobox","aria-haspopup":"listbox","aria-expanded":"false","aria-controls":d});const p=ne(c,e.inputId+"-ts-control"),h="label[for='"+(e=>e.replace(/['"\\]/g,"\\$&"))(e.inputId)+"']",g=document.querySelector(h),f=e.focus.bind(e);if(g){re(g,"click",f),X(g,{for:p});const t=ne(g,e.inputId+"-ts-label");X(c,{"aria-labelledby":t}),X(o,{"aria-labelledby":t})}if(n.style.width=l.style.width,e.plugins.names.length){const t="plugin-"+e.plugins.names.join(" plugin-");G([n,r],t)}(null===t.maxItems||t.maxItems>1)&&e.is_select_tag&&X(l,{multiple:"multiple"}),t.placeholder&&X(i,{placeholder:t.placeholder}),!t.splitOn&&t.delimiter&&(t.splitOn=new RegExp("\\s*"+s(t.delimiter)+"+\\s*")),t.load&&t.loadThrottle&&(t.load=ee(t.load,t.loadThrottle)),re(r,"mousemove",(()=>{e.ignoreHover=!1})),re(r,"mouseenter",(t=>{var i=V(t.target,"[data-selectable]",r);i&&e.onOptionHover(t,i)}),{capture:!0}),re(r,"click",(t=>{const i=V(t.target,"[data-selectable]");i&&(e.onOptionSelect(t,i),ie(t,!0))})),re(a,"click",(t=>{var r=V(t.target,"[data-ts-item]",a);r&&e.onItemSelect(t,r)?ie(t,!0):""==i.value&&(e.onClick(),ie(t,!0))})),re(c,"keydown",(t=>e.onKeyDown(t))),re(i,"keypress",(t=>e.onKeyPress(t))),re(i,"input",(t=>e.onInput(t))),re(c,"blur",(t=>e.onBlur(t))),re(c,"focus",(t=>e.onFocus(t))),re(i,"paste",(t=>e.onPaste(t)));const m=t=>{const o=t.composedPath()[0];if(!n.contains(o)&&!r.contains(o))return e.isFocused&&e.blur(),void e.inputState();o==i&&e.isOpen?t.stopPropagation():ie(t,!0)},v=()=>{e.isOpen&&e.positionDropdown()};re(document,"mousedown",m),re(window,"scroll",v,u),re(window,"resize",v,u),this._destroy=()=>{document.removeEventListener("mousedown",m),window.removeEventListener("scroll",v),window.removeEventListener("resize",v),g&&g.removeEventListener("click",f)},this.revertSettings={innerHTML:l.innerHTML,tabIndex:l.tabIndex},l.tabIndex=-1,l.insertAdjacentElement("afterend",e.wrapper),e.sync(!1),t.items=[],delete t.optgroups,delete t.options,re(l,"invalid",(()=>{e.isValid&&(e.isValid=!1,e.isInvalid=!0,e.refreshState())})),e.updateOriginalInput(),e.refreshItems(),e.close(!1),e.inputState(),e.isSetup=!0,l.disabled?e.disable():l.readOnly?e.setReadOnly(!0):e.enable(),e.on("change",this.onChange),G(l,"tomselected","ts-hidden-accessible"),e.trigger("initialize"),!0===t.preload&&e.preload()}setupOptions(e=[],t=[]){this.addOptions(e),I(t,(e=>{this.registerOptionGroup(e)}))}setupTemplates(){var e=this,t=e.settings.labelField,i=e.settings.optgroupLabelField,r={optgroup:e=>{let t=document.createElement("div");return t.className="optgroup",t.appendChild(e.options),t},optgroup_header:(e,t)=>'<div class="optgroup-header">'+t(e[i])+"</div>",option:(e,i)=>"<div>"+i(e[t])+"</div>",item:(e,i)=>"<div>"+i(e[t])+"</div>",option_create:(e,t)=>'<div class="create">Add <strong>'+t(e.input)+"</strong>&hellip;</div>",no_results:()=>'<div class="no-results">No results found</div>',loading:()=>'<div class="spinner"></div>',not_loading:()=>{},dropdown:()=>"<div></div>"};e.settings.render=Object.assign({},r,e.settings.render)}setupCallbacks(){var e,t,i={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",item_select:"onItemSelect",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(e in i)(t=this.settings[i[e]])&&this.on(e,t)}sync(e=!0){const t=this,i=e?le(t.input,{delimiter:t.settings.delimiter}):t.settings;t.setupOptions(i.options,i.optgroups),t.setValue(i.items||[],!0),t.lastQuery=null}onClick(){var e=this;if(e.activeItems.length>0)return e.clearActiveItems(),void e.focus();e.isFocused&&e.isOpen?e.blur():e.focus()}onMouseDown(){}onChange(){j(this.input,"input"),j(this.input,"change")}onPaste(e){var t=this;t.isInputHidden||t.isLocked?ie(e):t.settings.splitOn&&setTimeout((()=>{var e=t.inputValue();if(e.match(t.settings.splitOn)){var i=e.trim().split(t.settings.splitOn);I(i,(e=>{J(e)&&(this.options[e]?t.addItem(e):t.createItem(e))}))}}),0)}onKeyPress(e){var t=this;if(!t.isLocked){var i=String.fromCharCode(e.keyCode||e.which);return t.settings.create&&"multi"===t.settings.mode&&i===t.settings.delimiter?(t.createItem(),void ie(e)):void 0}ie(e)}onKeyDown(e){var t=this;if(t.ignoreHover=!0,t.isLocked)9!==e.keyCode&&ie(e);else{switch(e.keyCode){case 65:if(oe(W,e)&&""==t.control_input.value)return ie(e),void t.selectAll();break;case 27:return t.isOpen&&(ie(e,!0),t.close()),void t.clearActiveItems();case 40:if(!t.isOpen&&t.hasOptions)t.open();else if(t.activeOption){let e=t.getAdjacent(t.activeOption,1);e&&t.setActiveOption(e)}return void ie(e);case 38:if(t.activeOption){let e=t.getAdjacent(t.activeOption,-1);e&&t.setActiveOption(e)}return void ie(e);case 13:return void(t.canSelect(t.activeOption)?(t.onOptionSelect(e,t.activeOption),ie(e)):(t.settings.create&&t.createItem()||document.activeElement==t.control_input&&t.isOpen)&&ie(e));case 37:return void t.advanceSelection(-1,e);case 39:return void t.advanceSelection(1,e);case 9:return void(t.settings.selectOnTab&&(t.canSelect(t.activeOption)&&(t.onOptionSelect(e,t.activeOption),ie(e)),t.settings.create&&t.createItem()&&ie(e)));case 8:case 46:return void t.deleteSelection(e)}t.isInputHidden&&!oe(W,e)&&ie(e)}}onInput(e){if(this.isLocked)return;const t=this.inputValue();this.lastValue!==t&&(this.lastValue=t,""!=t?(this.refreshTimeout&&clearTimeout(this.refreshTimeout),this.refreshTimeout=((e,t)=>t>0?setTimeout(e,t):(e.call(null),null))((()=>{this.refreshTimeout=null,this._onInput()}),this.settings.refreshThrottle)):this._onInput())}_onInput(){const e=this.lastValue;this.settings.shouldLoad.call(this,e)&&this.load(e),this.refreshOptions(),this.trigger("type",e)}onOptionHover(e,t){this.ignoreHover||this.setActiveOption(t,!1)}onFocus(e){var t=this,i=t.isFocused;if(t.isDisabled||t.isReadOnly)return t.blur(),void ie(e);t.ignoreFocus||(t.isFocused=!0,"focus"===t.settings.preload&&t.preload(),i||t.trigger("focus"),t.activeItems.length||(t.inputState(),t.refreshOptions(!!t.settings.openOnFocus)),t.refreshState())}onBlur(e){if(!1!==document.hasFocus()){var t=this;if(t.isFocused){t.isFocused=!1,t.ignoreFocus=!1;var i=()=>{t.close(),t.setActiveItem(),t.setCaret(t.items.length),t.trigger("blur")};t.settings.create&&t.settings.createOnBlur?t.createItem(null,i):i()}}}onOptionSelect(e,t){var i,r=this;t.parentElement&&t.parentElement.matches("[data-disabled]")||(t.classList.contains("create")?r.createItem(null,(()=>{r.settings.closeAfterSelect&&r.close()})):void 0!==(i=t.dataset.value)&&(r.lastQuery=null,r.addItem(i),r.settings.closeAfterSelect&&r.close(),!r.settings.hideSelected&&e.type&&/click/.test(e.type)&&r.setActiveOption(t)))}canSelect(e){return!!(this.isOpen&&e&&this.dropdown_content.contains(e))}onItemSelect(e,t){var i=this;return!i.isLocked&&"multi"===i.settings.mode&&(ie(e),i.setActiveItem(t,e),!0)}canLoad(e){return!!this.settings.load&&!this.loadedSearches.hasOwnProperty(e)}load(e){const t=this;if(!t.canLoad(e))return;G(t.wrapper,t.settings.loadingClass),t.loading++;const i=t.loadCallback.bind(t);t.settings.load.call(t,e,i)}loadCallback(e,t){const i=this;i.loading=Math.max(i.loading-1,0),i.lastQuery=null,i.clearActiveOption(),i.setupOptions(e,t),i.refreshOptions(i.isFocused&&!i.isInputHidden),i.loading||q(i.wrapper,i.settings.loadingClass),i.trigger("load",e,t)}preload(){var e=this.wrapper.classList;e.contains("preloaded")||(e.add("preloaded"),this.load(""))}setTextboxValue(e=""){var t=this.control_input;t.value!==e&&(t.value=e,j(t,"update"),this.lastValue=e)}getValue(){return this.is_select_tag&&this.input.hasAttribute("multiple")?this.items:this.items.join(this.settings.delimiter)}setValue(e,t){te(this,t?[]:["change"],(()=>{this.clear(t),this.addItems(e,t)}))}setMaxItems(e){0===e&&(e=null),this.settings.maxItems=e,this.refreshState()}setActiveItem(e,t){var i,r,o,n,s,a,l=this;if("single"!==l.settings.mode){if(!e)return l.clearActiveItems(),void(l.isFocused&&l.inputState());if("click"===(i=t&&t.type.toLowerCase())&&oe("shiftKey",t)&&l.activeItems.length){for(a=l.getLastActive(),(o=Array.prototype.indexOf.call(l.control.children,a))>(n=Array.prototype.indexOf.call(l.control.children,e))&&(s=o,o=n,n=s),r=o;r<=n;r++)e=l.control.children[r],-1===l.activeItems.indexOf(e)&&l.setActiveItemClass(e);ie(t)}else"click"===i&&oe(W,t)||"keydown"===i&&oe("shiftKey",t)?e.classList.contains("active")?l.removeActiveItem(e):l.setActiveItemClass(e):(l.clearActiveItems(),l.setActiveItemClass(e));l.inputState(),l.isFocused||l.focus()}}setActiveItemClass(e){const t=this,i=t.control.querySelector(".last-active");i&&q(i,"last-active"),G(e,"active last-active"),t.trigger("item_select",e),-1==t.activeItems.indexOf(e)&&t.activeItems.push(e)}removeActiveItem(e){var t=this.activeItems.indexOf(e);this.activeItems.splice(t,1),q(e,"active")}clearActiveItems(){q(this.activeItems,"active"),this.activeItems=[]}setActiveOption(e,t=!0){e!==this.activeOption&&(this.clearActiveOption(),e&&(this.activeOption=e,X(this.focus_node,{"aria-activedescendant":e.getAttribute("id")}),X(e,{"aria-selected":"true"}),G(e,"active"),t&&this.scrollToOption(e)))}scrollToOption(e,t){if(!e)return;const i=this.dropdown_content,r=i.clientHeight,o=i.scrollTop||0,n=e.offsetHeight,s=e.getBoundingClientRect().top-i.getBoundingClientRect().top+o;s+n>r+o?this.scroll(s-r+n,t):s<o&&this.scroll(s,t)}scroll(e,t){const i=this.dropdown_content;t&&(i.style.scrollBehavior=t),i.scrollTop=e,i.style.scrollBehavior=""}clearActiveOption(){this.activeOption&&(q(this.activeOption,"active"),X(this.activeOption,{"aria-selected":null})),this.activeOption=null,X(this.focus_node,{"aria-activedescendant":null})}selectAll(){const e=this;if("single"===e.settings.mode)return;const t=e.controlChildren();t.length&&(e.inputState(),e.close(),e.activeItems=t,I(t,(t=>{e.setActiveItemClass(t)})))}inputState(){var e=this;e.control.contains(e.control_input)&&(X(e.control_input,{placeholder:e.settings.placeholder}),e.activeItems.length>0||!e.isFocused&&e.settings.hidePlaceholder&&e.items.length>0?(e.setTextboxValue(),e.isInputHidden=!0):(e.settings.hidePlaceholder&&e.items.length>0&&X(e.control_input,{placeholder:""}),e.isInputHidden=!1),e.wrapper.classList.toggle("input-hidden",e.isInputHidden))}inputValue(){return this.control_input.value.trim()}focus(){var e=this;e.isDisabled||e.isReadOnly||(e.ignoreFocus=!0,e.control_input.offsetWidth?e.control_input.focus():e.focus_node.focus(),setTimeout((()=>{e.ignoreFocus=!1,e.onFocus()}),0))}blur(){this.focus_node.blur(),this.onBlur()}getScoreFunction(e){return this.sifter.getScoreFunction(e,this.getSearchOptions())}getSearchOptions(){var e=this.settings,t=e.sortField;return"string"==typeof e.sortField&&(t=[{field:e.sortField}]),{fields:e.searchField,conjunction:e.searchConjunction,sort:t,nesting:e.nesting}}search(e){var t,i,r=this,o=this.getSearchOptions();if(r.settings.score&&"function"!=typeof(i=r.settings.score.call(r,e)))throw new Error('Tom Select "score" setting must be a function that returns a function');return e!==r.lastQuery?(r.lastQuery=e,t=r.sifter.search(e,Object.assign(o,{score:i})),r.currentResults=t):t=Object.assign({},r.currentResults),r.settings.hideSelected&&(t.items=t.items.filter((e=>{let t=J(e.id);return!(t&&-1!==r.items.indexOf(t))}))),t}refreshOptions(e=!0){var t,i,r,o,n,s,a,l,c,u;const d={},p=[];var h=this,g=h.inputValue();const f=g===h.lastQuery||""==g&&null==h.lastQuery;var m=h.search(g),v=null,b=h.settings.shouldOpen||!1,y=h.dropdown_content;f&&(v=h.activeOption)&&(c=v.closest("[data-group]")),o=m.items.length,"number"==typeof h.settings.maxOptions&&(o=Math.min(o,h.settings.maxOptions)),o>0&&(b=!0);const w=(e,t)=>{let i=d[e];if(void 0!==i){let e=p[i];if(void 0!==e)return[i,e.fragment]}let r=document.createDocumentFragment();return i=p.length,p.push({fragment:r,order:t,optgroup:e}),[i,r]};for(t=0;t<o;t++){let e=m.items[t];if(!e)continue;let o=e.id,a=h.options[o];if(void 0===a)continue;let l=Y(o),u=h.getOption(l,!0);for(h.settings.hideSelected||u.classList.toggle("selected",h.items.includes(l)),n=a[h.settings.optgroupField]||"",i=0,r=(s=Array.isArray(n)?n:[n])&&s.length;i<r;i++){n=s[i];let e=a.$order,t=h.optgroups[n];void 0===t?n="":e=t.$order;const[r,l]=w(n,e);i>0&&(u=u.cloneNode(!0),X(u,{id:a.$id+"-clone-"+i,"aria-selected":null}),u.classList.add("ts-cloned"),q(u,"active"),h.activeOption&&h.activeOption.dataset.value==o&&c&&c.dataset.group===n.toString()&&(v=u)),l.appendChild(u),""!=n&&(d[n]=r)}}var k;h.settings.lockOptgroupOrder&&p.sort(((e,t)=>e.order-t.order)),a=document.createDocumentFragment(),I(p,(e=>{let t=e.fragment,i=e.optgroup;if(!t||!t.children.length)return;let r=h.optgroups[i];if(void 0!==r){let e=document.createDocumentFragment(),i=h.render("optgroup_header",r);ae(e,i),ae(e,t);let o=h.render("optgroup",{group:r,options:e});ae(a,o)}else ae(a,t)})),y.innerHTML="",ae(y,a),h.settings.highlight&&(k=y.querySelectorAll("span.highlight"),Array.prototype.forEach.call(k,(function(e){var t=e.parentNode;t.replaceChild(e.firstChild,e),t.normalize()})),m.query.length&&m.tokens.length&&I(m.tokens,(e=>{K(y,e.regex)})));var A=e=>{let t=h.render(e,{input:g});return t&&(b=!0,y.insertBefore(t,y.firstChild)),t};if(h.loading?A("loading"):h.settings.shouldLoad.call(h,g)?0===m.items.length&&A("no_results"):A("not_loading"),(l=h.canCreate(g))&&(u=A("option_create")),h.hasOptions=m.items.length>0||l,b){if(m.items.length>0){if(v||"single"!==h.settings.mode||null==h.items[0]||(v=h.getOption(h.items[0])),!y.contains(v)){let e=0;u&&!h.settings.addPrecedence&&(e=1),v=h.selectable()[e]}}else u&&(v=u);e&&!h.isOpen&&(h.open(),h.scrollToOption(v,"auto")),h.setActiveOption(v)}else h.clearActiveOption(),e&&h.isOpen&&h.close(!1)}selectable(){return this.dropdown_content.querySelectorAll("[data-selectable]")}addOption(e,t=!1){const i=this;if(Array.isArray(e))return i.addOptions(e,t),!1;const r=J(e[i.settings.valueField]);return null!==r&&!i.options.hasOwnProperty(r)&&(e.$order=e.$order||++i.order,e.$id=i.inputId+"-opt-"+e.$order,i.options[r]=e,i.lastQuery=null,t&&(i.userOptions[r]=t,i.trigger("option_add",r,e)),r)}addOptions(e,t=!1){I(e,(e=>{this.addOption(e,t)}))}registerOption(e){return this.addOption(e)}registerOptionGroup(e){var t=J(e[this.settings.optgroupValueField]);return null!==t&&(e.$order=e.$order||++this.order,this.optgroups[t]=e,t)}addOptionGroup(e,t){var i;t[this.settings.optgroupValueField]=e,(i=this.registerOptionGroup(t))&&this.trigger("optgroup_add",i,t)}removeOptionGroup(e){this.optgroups.hasOwnProperty(e)&&(delete this.optgroups[e],this.clearCache(),this.trigger("optgroup_remove",e))}clearOptionGroups(){this.optgroups={},this.clearCache(),this.trigger("optgroup_clear")}updateOption(e,t){const i=this;var r,o;const n=J(e),s=J(t[i.settings.valueField]);if(null===n)return;const a=i.options[n];if(null==a)return;if("string"!=typeof s)throw new Error("Value must be set in option data");const l=i.getOption(n),c=i.getItem(n);if(t.$order=t.$order||a.$order,delete i.options[n],i.uncacheValue(s),i.options[s]=t,l){if(i.dropdown_content.contains(l)){const e=i._render("option",t);Q(l,e),i.activeOption===l&&i.setActiveOption(e)}l.remove()}c&&(-1!==(o=i.items.indexOf(n))&&i.items.splice(o,1,s),r=i._render("item",t),c.classList.contains("active")&&G(r,"active"),Q(c,r)),i.lastQuery=null}removeOption(e,t){const i=this;e=Y(e),i.uncacheValue(e),delete i.userOptions[e],delete i.options[e],i.lastQuery=null,i.trigger("option_remove",e),i.removeItem(e,t)}clearOptions(e){const t=(e||this.clearFilter).bind(this);this.loadedSearches={},this.userOptions={},this.clearCache();const i={};I(this.options,((e,r)=>{t(e,r)&&(i[r]=e)})),this.options=this.sifter.items=i,this.lastQuery=null,this.trigger("option_clear")}clearFilter(e,t){return this.items.indexOf(t)>=0}getOption(e,t=!1){const i=J(e);if(null===i)return null;const r=this.options[i];if(null!=r){if(r.$div)return r.$div;if(t)return this._render("option",r)}return null}getAdjacent(e,t,i="option"){var r;if(!e)return null;r="item"==i?this.controlChildren():this.dropdown_content.querySelectorAll("[data-selectable]");for(let i=0;i<r.length;i++)if(r[i]==e)return t>0?r[i+1]:r[i-1];return null}getItem(e){if("object"==typeof e)return e;var t=J(e);return null!==t?this.control.querySelector(`[data-value="${se(t)}"]`):null}addItems(e,t){var i=this,r=Array.isArray(e)?e:[e];const o=(r=r.filter((e=>-1===i.items.indexOf(e))))[r.length-1];r.forEach((e=>{i.isPending=e!==o,i.addItem(e,t)}))}addItem(e,t){te(this,t?[]:["change","dropdown_close"],(()=>{var i,r;const o=this,n=o.settings.mode,s=J(e);if((!s||-1===o.items.indexOf(s)||("single"===n&&o.close(),"single"!==n&&o.settings.duplicates))&&null!==s&&o.options.hasOwnProperty(s)&&("single"===n&&o.clear(t),"multi"!==n||!o.isFull())){if(i=o._render("item",o.options[s]),o.control.contains(i)&&(i=i.cloneNode(!0)),r=o.isFull(),o.items.splice(o.caretPos,0,s),o.insertAtCaret(i),o.isSetup){if(!o.isPending&&o.settings.hideSelected){let e=o.getOption(s),t=o.getAdjacent(e,1);t&&o.setActiveOption(t)}o.isPending||o.settings.closeAfterSelect||o.refreshOptions(o.isFocused&&"single"!==n),0!=o.settings.closeAfterSelect&&o.isFull()?o.close():o.isPending||o.positionDropdown(),o.trigger("item_add",s,i),o.isPending||o.updateOriginalInput({silent:t})}(!o.isPending||!r&&o.isFull())&&(o.inputState(),o.refreshState())}}))}removeItem(e=null,t){const i=this;if(!(e=i.getItem(e)))return;var r,o;const n=e.dataset.value;r=$(e),e.remove(),e.classList.contains("active")&&(o=i.activeItems.indexOf(e),i.activeItems.splice(o,1),q(e,"active")),i.items.splice(r,1),i.lastQuery=null,!i.settings.persist&&i.userOptions.hasOwnProperty(n)&&i.removeOption(n,t),r<i.caretPos&&i.setCaret(i.caretPos-1),i.updateOriginalInput({silent:t}),i.refreshState(),i.positionDropdown(),i.trigger("item_remove",n,e)}createItem(e=null,t=()=>{}){3===arguments.length&&(t=arguments[2]),"function"!=typeof t&&(t=()=>{});var i,r=this,o=r.caretPos;if(e=e||r.inputValue(),!r.canCreate(e))return t(),!1;r.lock();var n=!1,s=e=>{if(r.unlock(),!e||"object"!=typeof e)return t();var i=J(e[r.settings.valueField]);if("string"!=typeof i)return t();r.setTextboxValue(),r.addOption(e,!0),r.setCaret(o),r.addItem(i),t(e),n=!0};return i="function"==typeof r.settings.create?r.settings.create.call(this,e,s):{[r.settings.labelField]:e,[r.settings.valueField]:e},n||s(i),!0}refreshItems(){var e=this;e.lastQuery=null,e.isSetup&&e.addItems(e.items),e.updateOriginalInput(),e.refreshState()}refreshState(){const e=this;e.refreshValidityState();const t=e.isFull(),i=e.isLocked;e.wrapper.classList.toggle("rtl",e.rtl);const r=e.wrapper.classList;var o;r.toggle("focus",e.isFocused),r.toggle("disabled",e.isDisabled),r.toggle("readonly",e.isReadOnly),r.toggle("required",e.isRequired),r.toggle("invalid",!e.isValid),r.toggle("locked",i),r.toggle("full",t),r.toggle("input-active",e.isFocused&&!e.isInputHidden),r.toggle("dropdown-active",e.isOpen),r.toggle("has-options",(o=e.options,0===Object.keys(o).length)),r.toggle("has-items",e.items.length>0)}refreshValidityState(){var e=this;e.input.validity&&(e.isValid=e.input.validity.valid,e.isInvalid=!e.isValid)}isFull(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems}updateOriginalInput(e={}){const t=this;var i,r;const o=t.input.querySelector('option[value=""]');if(t.is_select_tag){const n=[],s=t.input.querySelectorAll("option:checked").length;function a(e,i,r){return e||(e=B('<option value="'+Z(i)+'">'+Z(r)+"</option>")),e!=o&&t.input.append(e),n.push(e),(e!=o||s>0)&&(e.selected=!0),e}t.input.querySelectorAll("option:checked").forEach((e=>{e.selected=!1})),0==t.items.length&&"single"==t.settings.mode?a(o,"",""):t.items.forEach((e=>{i=t.options[e],r=i[t.settings.labelField]||"",n.includes(i.$option)?a(t.input.querySelector(`option[value="${se(e)}"]:not(:checked)`),e,r):i.$option=a(i.$option,e,r)}))}else t.input.value=t.getValue();t.isSetup&&(e.silent||t.trigger("change",t.getValue()))}open(){var e=this;e.isLocked||e.isOpen||"multi"===e.settings.mode&&e.isFull()||(e.isOpen=!0,X(e.focus_node,{"aria-expanded":"true"}),e.refreshState(),D(e.dropdown,{visibility:"hidden",display:"block"}),e.positionDropdown(),D(e.dropdown,{visibility:"visible",display:"block"}),e.focus(),e.trigger("dropdown_open",e.dropdown))}close(e=!0){var t=this,i=t.isOpen;e&&(t.setTextboxValue(),"single"===t.settings.mode&&t.items.length&&t.inputState()),t.isOpen=!1,X(t.focus_node,{"aria-expanded":"false"}),D(t.dropdown,{display:"none"}),t.settings.hideSelected&&t.clearActiveOption(),t.refreshState(),i&&t.trigger("dropdown_close",t.dropdown)}positionDropdown(){if("body"===this.settings.dropdownParent){var e=this.control,t=e.getBoundingClientRect(),i=e.offsetHeight+t.top+window.scrollY,r=t.left+window.scrollX;D(this.dropdown,{width:t.width+"px",top:i+"px",left:r+"px"})}}clear(e){var t=this;if(t.items.length){var i=t.controlChildren();I(i,(e=>{t.removeItem(e,!0)})),t.inputState(),e||t.updateOriginalInput(),t.trigger("clear")}}insertAtCaret(e){const t=this,i=t.caretPos,r=t.control;r.insertBefore(e,r.children[i]||null),t.setCaret(i+1)}deleteSelection(e){var t,i,r,o,n,s=this;t=e&&8===e.keyCode?-1:1,i={start:(n=s.control_input).selectionStart||0,length:(n.selectionEnd||0)-(n.selectionStart||0)};const a=[];if(s.activeItems.length)o=N(s.activeItems,t),r=$(o),t>0&&r++,I(s.activeItems,(e=>a.push(e)));else if((s.isFocused||"single"===s.settings.mode)&&s.items.length){const e=s.controlChildren();let r;t<0&&0===i.start&&0===i.length?r=e[s.caretPos-1]:t>0&&i.start===s.inputValue().length&&(r=e[s.caretPos]),void 0!==r&&a.push(r)}if(!s.shouldDelete(a,e))return!1;for(ie(e,!0),void 0!==r&&s.setCaret(r);a.length;)s.removeItem(a.pop());return s.inputState(),s.positionDropdown(),s.refreshOptions(!1),!0}shouldDelete(e,t){const i=e.map((e=>e.dataset.value));return!(!i.length||"function"==typeof this.settings.onDelete&&!1===this.settings.onDelete(i,t))}advanceSelection(e,t){var i,r,o=this;o.rtl&&(e*=-1),o.inputValue().length||(oe(W,t)||oe("shiftKey",t)?(r=(i=o.getLastActive(e))?i.classList.contains("active")?o.getAdjacent(i,e,"item"):i:e>0?o.control_input.nextElementSibling:o.control_input.previousElementSibling)&&(r.classList.contains("active")&&o.removeActiveItem(i),o.setActiveItemClass(r)):o.moveCaret(e))}moveCaret(e){}getLastActive(e){let t=this.control.querySelector(".last-active");if(t)return t;var i=this.control.querySelectorAll(".active");return i?N(i,e):void 0}setCaret(e){this.caretPos=this.items.length}controlChildren(){return Array.from(this.control.querySelectorAll("[data-ts-item]"))}lock(){this.setLocked(!0)}unlock(){this.setLocked(!1)}setLocked(e=this.isReadOnly||this.isDisabled){this.isLocked=e,this.refreshState()}disable(){this.setDisabled(!0),this.close()}enable(){this.setDisabled(!1)}setDisabled(e){this.focus_node.tabIndex=e?-1:this.tabIndex,this.isDisabled=e,this.input.disabled=e,this.control_input.disabled=e,this.setLocked()}setReadOnly(e){this.isReadOnly=e,this.input.readOnly=e,this.control_input.readOnly=e,this.setLocked()}destroy(){var e=this,t=e.revertSettings;e.trigger("destroy"),e.off(),e.wrapper.remove(),e.dropdown.remove(),e.input.innerHTML=t.innerHTML,e.input.tabIndex=t.tabIndex,q(e.input,"tomselected","ts-hidden-accessible"),e._destroy(),delete e.input.tomselect}render(e,t){var i,r;const o=this;if("function"!=typeof this.settings.render[e])return null;if(!(r=o.settings.render[e].call(this,t,Z)))return null;if(r=B(r),"option"===e||"option_create"===e?t[o.settings.disabledField]?X(r,{"aria-disabled":"true"}):X(r,{"data-selectable":""}):"optgroup"===e&&(i=t.group[o.settings.optgroupValueField],X(r,{"data-group":i}),t.group[o.settings.disabledField]&&X(r,{"data-disabled":""})),"option"===e||"item"===e){const i=Y(t[o.settings.valueField]);X(r,{"data-value":i}),"item"===e?(G(r,o.settings.itemClass),X(r,{"data-ts-item":""})):(G(r,o.settings.optionClass),X(r,{role:"option",id:t.$id}),t.$div=r,o.options[i]=t)}return r}_render(e,t){const i=this.render(e,t);if(null==i)throw"HTMLElement expected";return i}clearCache(){I(this.options,(e=>{e.$div&&(e.$div.remove(),delete e.$div)}))}uncacheValue(e){const t=this.getOption(e);t&&t.remove()}canCreate(e){return this.settings.create&&e.length>0&&this.settings.createFilter.call(this,e)}hook(e,t,i){var r=this,o=r[t];r[t]=function(){var t,n;return"after"===e&&(t=o.apply(r,arguments)),n=i.apply(r,arguments),"instead"===e?n:("before"===e&&(t=o.apply(r,arguments)),t)}}}return ue.define("change_listener",(function(){re(this.input,"change",(()=>{this.sync()}))})),ue.define("checkbox_options",(function(e){var t=this,i=t.onOptionSelect;t.settings.hideSelected=!1;const r=Object.assign({className:"tomselect-checkbox",checkedClassNames:void 0,uncheckedClassNames:void 0},e);var o=function(e,t){t?(e.checked=!0,r.uncheckedClassNames&&e.classList.remove(...r.uncheckedClassNames),r.checkedClassNames&&e.classList.add(...r.checkedClassNames)):(e.checked=!1,r.checkedClassNames&&e.classList.remove(...r.checkedClassNames),r.uncheckedClassNames&&e.classList.add(...r.uncheckedClassNames))},n=function(e){setTimeout((()=>{var t=e.querySelector("input."+r.className);t instanceof HTMLInputElement&&o(t,e.classList.contains("selected"))}),1)};t.hook("after","setupTemplates",(()=>{var e=t.settings.render.option;t.settings.render.option=(i,n)=>{var s=B(e.call(t,i,n)),a=document.createElement("input");r.className&&a.classList.add(r.className),a.addEventListener("click",(function(e){ie(e)})),a.type="checkbox";const l=J(i[t.settings.valueField]);return o(a,!!(l&&t.items.indexOf(l)>-1)),s.prepend(a),s}})),t.on("item_remove",(e=>{var i=t.getOption(e);i&&(i.classList.remove("selected"),n(i))})),t.on("item_add",(e=>{var i=t.getOption(e);i&&n(i)})),t.hook("instead","onOptionSelect",((e,r)=>{if(r.classList.contains("selected"))return r.classList.remove("selected"),t.removeItem(r.dataset.value),t.refreshOptions(),void ie(e,!0);i.call(t,e,r),n(r)}))})),ue.define("clear_button",(function(e){const t=this,i=Object.assign({className:"clear-button",title:"Clear All",html:e=>`<div class="${e.className}" title="${e.title}">&#10799;</div>`},e);t.on("initialize",(()=>{var e=B(i.html(i));e.addEventListener("click",(e=>{t.isLocked||(t.clear(),"single"===t.settings.mode&&t.settings.allowEmptyOption&&t.addItem(""),e.preventDefault(),e.stopPropagation())})),t.control.appendChild(e)}))})),ue.define("drag_drop",(function(){var e=this;if("multi"!==e.settings.mode)return;var t=e.lock,i=e.unlock;let r,o=!0;e.hook("after","setupTemplates",(()=>{var t=e.settings.render.item;e.settings.render.item=(i,n)=>{const s=B(t.call(e,i,n));X(s,{draggable:"true"});const a=e=>{e.preventDefault(),s.classList.add("ts-drag-over"),l(s,r)},l=(e,t)=>{var i,r,o;void 0!==t&&(((e,t)=>{do{var i;if(e==(t=null==(i=t)?void 0:i.previousElementSibling))return!0}while(t&&t.previousElementSibling);return!1})(t,s)?(r=t,null==(o=(i=e).parentNode)||o.insertBefore(r,i.nextSibling)):((e,t)=>{var i;null==(i=e.parentNode)||i.insertBefore(t,e)})(e,t))};return re(s,"mousedown",(e=>{o||ie(e),e.stopPropagation()})),re(s,"dragstart",(e=>{r=s,setTimeout((()=>{s.classList.add("ts-dragging")}),0)})),re(s,"dragenter",a),re(s,"dragover",a),re(s,"dragleave",(()=>{s.classList.remove("ts-drag-over")})),re(s,"dragend",(()=>{var t;document.querySelectorAll(".ts-drag-over").forEach((e=>e.classList.remove("ts-drag-over"))),null==(t=r)||t.classList.remove("ts-dragging"),r=void 0;var i=[];e.control.querySelectorAll("[data-value]").forEach((e=>{if(e.dataset.value){let t=e.dataset.value;t&&i.push(t)}})),e.setValue(i)})),s}})),e.hook("instead","lock",(()=>(o=!1,t.call(e)))),e.hook("instead","unlock",(()=>(o=!0,i.call(e))))})),ue.define("dropdown_header",(function(e){const t=this,i=Object.assign({title:"Untitled",headerClass:"dropdown-header",titleRowClass:"dropdown-header-title",labelClass:"dropdown-header-label",closeClass:"dropdown-header-close",html:e=>'<div class="'+e.headerClass+'"><div class="'+e.titleRowClass+'"><span class="'+e.labelClass+'">'+e.title+'</span><a class="'+e.closeClass+'">&times;</a></div></div>'},e);t.on("initialize",(()=>{var e=B(i.html(i)),r=e.querySelector("."+i.closeClass);r&&r.addEventListener("click",(e=>{ie(e,!0),t.close()})),t.dropdown.insertBefore(e,t.dropdown.firstChild)}))})),ue.define("caret_position",(function(){var e=this;e.hook("instead","setCaret",(t=>{"single"!==e.settings.mode&&e.control.contains(e.control_input)?(t=Math.max(0,Math.min(e.items.length,t)))==e.caretPos||e.isPending||e.controlChildren().forEach(((i,r)=>{r<t?e.control_input.insertAdjacentElement("beforebegin",i):e.control.appendChild(i)})):t=e.items.length,e.caretPos=t})),e.hook("instead","moveCaret",(t=>{if(!e.isFocused)return;const i=e.getLastActive(t);if(i){const r=$(i);e.setCaret(t>0?r+1:r),e.setActiveItem(),q(i,"last-active")}else e.setCaret(e.caretPos+t)}))})),ue.define("dropdown_input",(function(){const e=this;e.settings.shouldOpen=!0,e.hook("before","setup",(()=>{e.focus_node=e.control,G(e.control_input,"dropdown-input");const t=B('<div class="dropdown-input-wrap">');t.append(e.control_input),e.dropdown.insertBefore(t,e.dropdown.firstChild);const i=B('<input class="items-placeholder" tabindex="-1" />');i.placeholder=e.settings.placeholder||"",e.control.append(i)})),e.on("initialize",(()=>{e.control_input.addEventListener("keydown",(t=>{switch(t.keyCode){case 27:return e.isOpen&&(ie(t,!0),e.close()),void e.clearActiveItems();case 9:e.focus_node.tabIndex=-1}return e.onKeyDown.call(e,t)})),e.on("blur",(()=>{e.focus_node.tabIndex=e.isDisabled?-1:e.tabIndex})),e.on("dropdown_open",(()=>{e.control_input.focus()}));const t=e.onBlur;e.hook("instead","onBlur",(i=>{if(!i||i.relatedTarget!=e.control_input)return t.call(e)})),re(e.control_input,"blur",(()=>e.onBlur())),e.hook("before","close",(()=>{e.isOpen&&e.focus_node.focus({preventScroll:!0})}))}))})),ue.define("input_autogrow",(function(){var e=this;e.on("initialize",(()=>{var t=document.createElement("span"),i=e.control_input;t.style.cssText="position:absolute; top:-99999px; left:-99999px; width:auto; padding:0; white-space:pre; ",e.wrapper.appendChild(t);for(const e of["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"])t.style[e]=i.style[e];var r=()=>{t.textContent=i.value,i.style.width=t.clientWidth+"px"};r(),e.on("update item_add item_remove",r),re(i,"input",r),re(i,"keyup",r),re(i,"blur",r),re(i,"update",r)}))})),ue.define("no_backspace_delete",(function(){var e=this,t=e.deleteSelection;this.hook("instead","deleteSelection",(i=>!!e.activeItems.length&&t.call(e,i)))})),ue.define("no_active_items",(function(){this.hook("instead","setActiveItem",(()=>{})),this.hook("instead","selectAll",(()=>{}))})),ue.define("optgroup_columns",(function(){var e=this,t=e.onKeyDown;e.hook("instead","onKeyDown",(i=>{var r,o,n,s;if(!e.isOpen||37!==i.keyCode&&39!==i.keyCode)return t.call(e,i);e.ignoreHover=!0,s=V(e.activeOption,"[data-group]"),r=$(e.activeOption,"[data-selectable]"),s&&(s=37===i.keyCode?s.previousSibling:s.nextSibling)&&(o=(n=s.querySelectorAll("[data-selectable]"))[Math.min(n.length-1,r)])&&e.setActiveOption(o)}))})),ue.define("remove_button",(function(e){const t=Object.assign({label:"&times;",title:"Remove",className:"remove",append:!0},e);var i=this;if(t.append){var r='<a href="javascript:void(0)" class="'+t.className+'" tabindex="-1" title="'+Z(t.title)+'">'+t.label+"</a>";i.hook("after","setupTemplates",(()=>{var e=i.settings.render.item;i.settings.render.item=(t,o)=>{var n=B(e.call(i,t,o)),s=B(r);return n.appendChild(s),re(s,"mousedown",(e=>{ie(e,!0)})),re(s,"click",(e=>{i.isLocked||(ie(e,!0),i.isLocked||i.shouldDelete([n],e)&&(i.removeItem(n),i.refreshOptions(!1),i.inputState()))})),n}}))}})),ue.define("restore_on_backspace",(function(e){const t=this,i=Object.assign({text:e=>e[t.settings.labelField]},e);t.on("item_remove",(function(e){if(t.isFocused&&""===t.control_input.value.trim()){var r=t.options[e];r&&t.setTextboxValue(i.text.call(t,r))}}))})),ue.define("virtual_scroll",(function(){const e=this,t=e.canLoad,i=e.clearActiveOption,r=e.loadCallback;var o,n,s={},a=!1,l=[];if(e.settings.shouldLoadMore||(e.settings.shouldLoadMore=()=>{if(o.clientHeight/(o.scrollHeight-o.scrollTop)>.9)return!0;if(e.activeOption){var t=e.selectable();if(Array.from(t).indexOf(e.activeOption)>=t.length-2)return!0}return!1}),!e.settings.firstUrl)throw"virtual_scroll plugin requires a firstUrl() method";e.settings.sortField=[{field:"$order"},{field:"$score"}];const c=t=>!("number"==typeof e.settings.maxOptions&&o.children.length>=e.settings.maxOptions||!(t in s)||!s[t]),u=(t,i)=>e.items.indexOf(i)>=0||l.indexOf(i)>=0;e.setNextUrl=(e,t)=>{s[e]=t},e.getUrl=t=>{if(t in s){const e=s[t];return s[t]=!1,e}return e.clearPagination(),e.settings.firstUrl.call(e,t)},e.clearPagination=()=>{s={}},e.hook("instead","clearActiveOption",(()=>{if(!a)return i.call(e)})),e.hook("instead","canLoad",(i=>i in s?c(i):t.call(e,i))),e.hook("instead","loadCallback",((t,i)=>{if(a){if(n){const i=t[0];void 0!==i&&(n.dataset.value=i[e.settings.valueField])}}else e.clearOptions(u);r.call(e,t,i),a=!1})),e.hook("after","refreshOptions",(()=>{const t=e.lastValue;var i;c(t)?(i=e.render("loading_more",{query:t}))&&(i.setAttribute("data-selectable",""),n=i):t in s&&!o.querySelector(".no-results")&&(i=e.render("no_more_results",{query:t})),i&&(G(i,e.settings.optionClass),o.append(i))})),e.on("initialize",(()=>{l=Object.keys(e.options),o=e.dropdown_content,e.settings.render=Object.assign({},{loading_more:()=>'<div class="loading-more-results">Loading more results ... </div>',no_more_results:()=>'<div class="no-more-results">No more results</div>'},e.settings.render),o.addEventListener("scroll",(()=>{e.settings.shouldLoadMore.call(e)&&c(e.lastValue)&&(a||(a=!0,e.load.call(e,e.lastValue)))}))}))})),ue}()},1741:(e,t,i)=>{var r=i(9235).FilterCSS,o=i(9235).getDefaultWhiteList,n=i(9286);var s=new r;function a(e){return e.replace(l,"&lt;").replace(c,"&gt;")}var l=/</g,c=/>/g,u=/"/g,d=/&quot;/g,p=/&#([a-zA-Z0-9]*);?/gim,h=/&colon;?/gim,g=/&newline;?/gim,f=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,m=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,v=/u\s*r\s*l\s*\(.*/gi;function b(e){return e.replace(u,"&quot;")}function y(e){return e.replace(d,'"')}function w(e){return e.replace(p,(function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))}))}function k(e){return e.replace(h,":").replace(g," ")}function A(e){for(var t="",i=0,r=e.length;i<r;i++)t+=e.charCodeAt(i)<32?" ":e.charAt(i);return n.trim(t)}function x(e){return A(e=k(e=w(e=y(e))))}function S(e){return a(e=b(e))}t.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height","loading"],ins:["datetime"],kbd:[],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]},t.getDefaultWhiteList=function(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height","loading"],ins:["datetime"],kbd:[],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}},t.onTag=function(e,t,i){},t.onIgnoreTag=function(e,t,i){},t.onTagAttr=function(e,t,i){},t.onIgnoreTagAttr=function(e,t,i){},t.safeAttrValue=function(e,t,i,r){if(i=x(i),"href"===t||"src"===t){if("#"===(i=n.trim(i)))return"#";if("http://"!==i.substr(0,7)&&"https://"!==i.substr(0,8)&&"mailto:"!==i.substr(0,7)&&"tel:"!==i.substr(0,4)&&"data:image/"!==i.substr(0,11)&&"ftp://"!==i.substr(0,6)&&"./"!==i.substr(0,2)&&"../"!==i.substr(0,3)&&"#"!==i[0]&&"/"!==i[0])return""}else if("background"===t){if(f.lastIndex=0,f.test(i))return""}else if("style"===t){if(m.lastIndex=0,m.test(i))return"";if(v.lastIndex=0,v.test(i)&&(f.lastIndex=0,f.test(i)))return"";!1!==r&&(i=(r=r||s).process(i))}return S(i)},t.escapeHtml=a,t.escapeQuote=b,t.unescapeQuote=y,t.escapeHtmlEntities=w,t.escapeDangerHtml5Entities=k,t.clearNonPrintableCharacter=A,t.friendlyAttrValue=x,t.escapeAttrValue=S,t.onIgnoreTagStripAll=function(){return""},t.StripTagBody=function(e,t){"function"!=typeof t&&(t=function(){});var i=!Array.isArray(e),r=[],o=!1;return{onIgnoreTag:function(s,a,l){if(function(t){return!!i||-1!==n.indexOf(e,t)}(s)){if(l.isClosing){var c=l.position+10;return r.push([!1!==o?o:l.position,c]),o=!1,"[/removed]"}return o||(o=l.position),"[removed]"}return t(s,a,l)},remove:function(e){var t="",i=0;return n.forEach(r,(function(r){t+=e.slice(i,r[0]),i=r[1]})),t+=e.slice(i)}}},t.stripCommentTag=function(e){for(var t="",i=0;i<e.length;){var r=e.indexOf("\x3c!--",i);if(-1===r){t+=e.slice(i);break}t+=e.slice(i,r);var o=e.indexOf("--\x3e",r);if(-1===o)break;i=o+3}return t},t.stripBlankChar=function(e){var t=e.split("");return(t=t.filter((function(e){var t=e.charCodeAt(0);return!(127===t||t<=31&&10!==t&&13!==t)}))).join("")},t.attributeWrapSign='"',t.cssFilter=s,t.getDefaultCSSWhiteList=o},8836:(e,t,i)=>{var r=i(1741),o=i(8097),n=i(8898);function s(e,t){return new n(t).process(e)}(t=e.exports=s).filterXSS=s,t.FilterXSS=n,function(){for(var e in r)t[e]=r[e];for(var i in o)t[i]=o[i]}(),"undefined"!=typeof window&&(window.filterXSS=e.exports),"undefined"!=typeof self&&"undefined"!=typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=e.exports)},8097:(e,t,i)=>{var r=i(9286);function o(e){var t,i=r.spaceIndex(e);return t=-1===i?e.slice(1,-1):e.slice(1,i+1),"/"===(t=r.trim(t).toLowerCase()).slice(0,1)&&(t=t.slice(1)),"/"===t.slice(-1)&&(t=t.slice(0,-1)),t}function n(e){return"</"===e.slice(0,2)}var s=/[^a-zA-Z0-9\\_:.-]/gim;function a(e,t){for(;t<e.length;t++){var i=e[t];if(" "!==i)return"="===i?t:-1}}function l(e,t){for(;t<e.length;t++){var i=e[t];if(" "!==i)return"'"===i||'"'===i?t:-1}}function c(e,t){for(;t>0;t--){var i=e[t];if(" "!==i)return"="===i?t:-1}}function u(e){return function(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]}(e)?e.substr(1,e.length-2):e}t.parseTag=function(e,t,i){"use strict";var r="",s=0,a=!1,l=!1,c=0,u=e.length,d="",p="";e:for(c=0;c<u;c++){var h=e.charAt(c);if(!1===a){if("<"===h){a=c;continue}}else if(!1===l){if("<"===h){r+=i(e.slice(s,c)),a=c,s=c;continue}if(">"===h||c===u-1){r+=i(e.slice(s,a)),d=o(p=e.slice(a,c+1)),r+=t(a,r.length,d,p,n(p)),s=c+1,a=!1;continue}if('"'===h||"'"===h)for(var g=1,f=e.charAt(c-g);""===f.trim()||"="===f;){if("="===f){l=h;continue e}f=e.charAt(c-++g)}}else if(h===l){l=!1;continue}}return s<u&&(r+=i(e.substr(s))),r},t.parseAttr=function(e,t){"use strict";var i=0,o=0,n=[],d=!1,p=e.length;function h(e,i){if(!((e=(e=r.trim(e)).replace(s,"").toLowerCase()).length<1)){var o=t(e,i||"");o&&n.push(o)}}for(var g=0;g<p;g++){var f,m=e.charAt(g);if(!1!==d||"="!==m)if(!1===d||g!==o){if(/\s|\n|\t/.test(m)){if(e=e.replace(/\s|\n|\t/g," "),!1===d){if(-1===(f=a(e,g))){h(r.trim(e.slice(i,g))),d=!1,i=g+1;continue}g=f-1;continue}if(-1===(f=c(e,g-1))){h(d,u(r.trim(e.slice(i,g)))),d=!1,i=g+1;continue}}}else{if(-1===(f=e.indexOf(m,g+1)))break;h(d,r.trim(e.slice(o+1,f))),d=!1,i=(g=f)+1}else d=e.slice(i,g),i=g+1,o='"'===e.charAt(i)||"'"===e.charAt(i)?i:l(e,g+1)}return i<e.length&&(!1===d?h(e.slice(i)):h(d,u(r.trim(e.slice(i))))),r.trim(n.join(" "))}},9286:e=>{e.exports={indexOf:function(e,t){var i,r;if(Array.prototype.indexOf)return e.indexOf(t);for(i=0,r=e.length;i<r;i++)if(e[i]===t)return i;return-1},forEach:function(e,t,i){var r,o;if(Array.prototype.forEach)return e.forEach(t,i);for(r=0,o=e.length;r<o;r++)t.call(i,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/.exec(e);return t?t.index:-1}}},8898:(e,t,i)=>{var r=i(9235).FilterCSS,o=i(1741),n=i(8097),s=n.parseTag,a=n.parseAttr,l=i(9286);function c(e){return null==e}function u(e){(e=function(e){var t={};for(var i in e)t[i]=e[i];return t}(e||{})).stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=o.onIgnoreTagStripAll),e.whiteList||e.allowList?e.whiteList=function(e){var t={};for(var i in e)Array.isArray(e[i])?t[i.toLowerCase()]=e[i].map((function(e){return e.toLowerCase()})):t[i.toLowerCase()]=e[i];return t}(e.whiteList||e.allowList):e.whiteList=o.whiteList,this.attributeWrapSign=!0===e.singleQuotedAttributeValue?"'":o.attributeWrapSign,e.onTag=e.onTag||o.onTag,e.onTagAttr=e.onTagAttr||o.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||o.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||o.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||o.safeAttrValue,e.escapeHtml=e.escapeHtml||o.escapeHtml,this.options=e,!1===e.css?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new r(e.css))}u.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this,i=t.options,r=i.whiteList,n=i.onTag,u=i.onIgnoreTag,d=i.onTagAttr,p=i.onIgnoreTagAttr,h=i.safeAttrValue,g=i.escapeHtml,f=t.attributeWrapSign,m=t.cssFilter;i.stripBlankChar&&(e=o.stripBlankChar(e)),i.allowCommentTag||(e=o.stripCommentTag(e));var v=!1;i.stripIgnoreTagBody&&(v=o.StripTagBody(i.stripIgnoreTagBody,u),u=v.onIgnoreTag);var b=s(e,(function(e,t,i,o,s){var v={sourcePosition:e,position:t,isClosing:s,isWhite:Object.prototype.hasOwnProperty.call(r,i)},b=n(i,o,v);if(!c(b))return b;if(v.isWhite){if(v.isClosing)return"</"+i+">";var y=function(e){var t=l.spaceIndex(e);if(-1===t)return{html:"",closing:"/"===e[e.length-2]};var i="/"===(e=l.trim(e.slice(t+1,-1)))[e.length-1];return i&&(e=l.trim(e.slice(0,-1))),{html:e,closing:i}}(o),w=r[i],k=a(y.html,(function(e,t){var r=-1!==l.indexOf(w,e),o=d(i,e,t,r);return c(o)?r?(t=h(i,e,t,m))?e+"="+f+t+f:e:c(o=p(i,e,t,r))?void 0:o:o}));return o="<"+i,k&&(o+=" "+k),y.closing&&(o+=" /"),o+">"}return c(b=u(i,o,v))?g(o):b}),g);return v&&(b=v.remove(b)),b},e.exports=u}},r={};function o(e){var t=r[e];if(void 0!==t)return t.exports;var n=r[e]={exports:{}};return i[e].call(n.exports,n,n.exports,o),n.exports}t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,o.t=function(i,r){if(1&r&&(i=this(i)),8&r)return i;if("object"==typeof i&&i){if(4&r&&i.__esModule)return i;if(16&r&&"function"==typeof i.then)return i}var n=Object.create(null);o.r(n);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&r&&i;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>s[e]=()=>i[e]));return s.default=()=>i,o.d(n,s),n},o.d=(e,t)=>{for(var i in t)o.o(t,i)&&!o.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";o(8836),mw.required=[],mw.require=function(e,t,i,r){if(e){var o,n;o=r?" defer ":"   ","boolean"!=typeof t&&void 0!==t||(t=t||!1),"string"==typeof t&&(n=""+t,t=i||!1),"string"==typeof i&&(n=i);var s=e,a=!1;n&&(s=n,a=!0);var l=e.split(".").pop();if(e=e.includes("//")?e:"css"!==l?mw.settings.includes_url+"api/"+e:mw.settings.includes_url+"css/"+e,a||(s=e),!~mw.required.indexOf(s)){if(mw.required.push(s),e=e.includes("?")?e+"&mwv="+mw.version:e+"?mwv="+mw.version,null!==document.querySelector('link[href="'+e+'"],script[src="'+e+'"]'))return;var c=" rel='stylesheet' ";r&&(c=" rel='preload' as='style' onload='this.onload=null;this.rel='stylesheet'' ");var u,d="css"!==l?"<script "+o+"  src='"+e+"'><\/script>":"<link "+c+" href='"+e+"' />";"object"==typeof $.fn?$(document.head).append(d):"css"!==l?((u=document.createElement("script")).src=e,u.defer=!!o,u.setAttribute("type","text/javascript"),document.head.appendChild(u)):(u=document.createElement("link"),r?(u.as="style",u.rel="preload",u.addEventListener("load",(e=>u.rel="stylesheet"))):u.rel="stylesheet",u.href=e,document.head.appendChild(u))}}};var e=o(2996);const t=class{#e={};on(e,t){return this.#e[e]?this.#e[e].push(t):this.#e[e]=[t],this}off(e,t){if(!this.#e[e])return this;if("function"==typeof t){const i=this.#e[e].indexOf(t);if(-1===i)return this;this.#e[e].splice(i,1)}else this.#e[e]=[];return this}dispatch(e,t,i){return this.#e[e]&&this.#e[e].forEach((function(e){e.call(this,t)})),this}emit(e,t){return this.dispatch(e,t)}#t={};css(e,t,i){if(!this.#t[e]||i){this.#t[e]=!0;const i=document.createElement("style");i.appendChild(document.createTextNode(t)),document.head.appendChild(i)}}};class i extends t{constructor(e={}){super(),this.#i(e),this.init()}#i(e){"string"==typeof e.target&&(e.selector=e.target),"object"==typeof e.selector&&(e.target=e.selector),this.settings=Object.assign({},this.#r(),e)}#r(){return{base_url:mw.settings.libs_url+"tinymce/",document_base_url:mw.settings.site_url,relative_urls:!1,remove_script_host:!1,cache_suffix:"?v=1",target:null,inline:!1,promotion:!1,element_format:"xhtml",extended_valid_elements:"div[*],module[*]",statusbar:!1,menubar:"edit insert view format table tools",noneditable_class:"module",plugins:["advlist","autolink","lists","mwlink","link","image","charmap","preview","anchor","searchreplace","visualblocks","code","insertdatetime","media","table"],toolbar:"undo redo | blocks | bold italic forecolor backcolor | mwlink unlink  | alignleft aligncenter alignright alignjustify | fontfamily fontsizeinput | bullist numlist outdent indent | removeformat ",init_instance_callback:e=>{e.on("Change Undo Redo",(e=>{this.dispatch("change",tinymce.activeEditor.getContent())}))},setup:e=>{this.dispatch("setup",e)}}}init(){tinymce.init(this.settings)}}var r=o(4237),n=o.t(r,2);window.$=jQuery,window.jQuery=jQuery,globalThis.$=jQuery,globalThis.jQuery=jQuery,globalThis.TomSelect=e,window.TomSelect=e,window.AColorPicker=n,mw.richTextEditor=e=>new i(e),$.ajaxSetup({headers:{"X-CSRF-TOKEN":(document.querySelector('meta[name="csrf-token"]').content||"").trim()}})})()})();